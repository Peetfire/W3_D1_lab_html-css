var sm_meta=sm_meta||{};sm_meta.sm_ve={name:"sm_ve",version:"",buildDate:"2020-03-03T11:13:26",env:"production"};var SM=SM||{};SM.Utils=function(a){"use strict";return a.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)},a.inArray=function(a,b,c){for(var d=c||window,e=a.length,f=0;e>f;f++)if(b.call(d,a[f]))return!0;return!1},a.indexOf=function(a,b,c){if(Array.prototype.indexOf)return a.indexOf(b,c);for(var d=c||0,e=a.length;e>d;d++)if(a[d]===b)return d;return-1},a.objLength=function(a){var b=0;for(var c in a)a.hasOwnProperty(c)&&b++;return b},a.each=function(b,c,d){var e=d||window;if(a.isArray(b))for(var f=b.length,g=0;f>g;g++)c.call(e,b[g],g,b);else for(var h in b)c.call(e,b[h],h,b)},a.find=function(b,c,d){var e=(d||window,null);if(a.isArray(b)){for(var f=b.length,g=0;f>g;g++)if(c.call(a,b[g],g,b)){e=b[g];break}}else for(var h in b)if(c.call(a,b[h],h,b)){e=b[h];break}return e},a.clone=function(b){var c;if(null===b||"object"!=typeof b)return b;if("date"===a.toType(b)&&(c=new Date,c.setTime(b.getTime())),"array"===a.toType(b)){c=[];for(var d=0,e=b.length;e>d;d++)c.push(a.clone(b[d]))}if("object"===a.toType(b)){c={};for(var f in b)b.hasOwnProperty(f)&&(c[f]=a.clone(b[f]))}return c},a.extract=function(a,b){if(a.hasOwnProperty(b)){var c=a[b];return a!==window&&delete a[b],c}},a.extend=function(b,c){b=b||{};for(var d in c)c.hasOwnProperty(d)&&(b[d]instanceof Object&&c[d]instanceof Object&&!SM.Utils.isHTMLNode(b[d])&&!SM.Utils.isHTMLNode(c[d])?b[d]=a.extend(b[d],c[d]):b[d]=c[d]);return b},a.isHTMLNode=function(a){return!!("object"==typeof a&&"nodeType"in a&&1===a.nodeType&&a.cloneNode)},a.inherits=function(b,c){function d(){a.constructor=b}b=a.extend(b,c),d.prototype=b._super=c.prototype,b.prototype=new d},a.randomize=function(a){for(var b,c,d=a.length;0!==d;)c=Math.floor(Math.random()*d),d-=1,b=a[d],a[d]=a[c],a[c]=b;return a},a.parseQueryString=function(){var b=window.location.search.substring(1);return a.queryStringToObj(b)},a.queryStringToObj=function(a){var b,c={},d=/\+/g,e=/([^&|\?=]+)=?([^&|\?]*)/g,f=function(a){return decodeURIComponent(a.replace(d," "))},g=unescape(a);if(-1===g.indexOf("?"))return c;b=g.substr(g.indexOf("?"),g.length);for(var h=e.exec(b);h;h=e.exec(b))c[f(h[1])]=f(h[2]);return c},a.objToQueryString=function(b,c){var d=[],e="&";return a.each(b,function(b,f){if("array"===a.toType(b)){var g=f+"[]=";a.each(b,function(a){e+=g+a+"&"})}else if("object"===a.toType(b))d.push(f+"="+JSON.stringify(b));else{var h=c?encodeURIComponent(f)+"="+encodeURIComponent(b):f+"="+b;d.push(h)}},a),d.join("&")+e},a.formatUrlForQueryString=function(a){return-1===a.indexOf("?")?a+="?":a.indexOf("?")!==a.length-1&&a.indexOf("&")!==a.length-1&&(a+="&"),a},a.isString=function(a){return"string"==typeof a||a instanceof String},a.parseMarkup=function(a,b,c){var d=a;c=c||/~\{[A-Z]*\}~/gi;var e=a.match(c);if(e)for(var f in e){var g=String(e[f]),h=g.length,i=g.substring(2,h-2),j=b[i];j=void 0===j||null===j?g:j.toString(),d=d.replace(g,j)}return d},a.toType=function(a){return{}.toString.call(a).match(/\s([a-zA-Z]+)/)[1].toLowerCase()},a}(SM.Utils||{}),Array.prototype.filter||(Array.prototype.filter=function(a){"use strict";if(void 0===this||null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if("function"!=typeof a)throw new TypeError;for(var d=[],e=arguments.length>=2?arguments[1]:void 0,f=0;c>f;f++)if(f in b){var g=b[f];a.call(e,g,f,b)&&d.push(g)}return d}),Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}),SM.Macros=function(a){"use strict";function b(c,d){return SM.Utils.each(c,function(a,e){var f=SM.Utils.toType(a);"string"===f?c[e]=d(a):("object"===f||"array"===f)&&(c[e]=b(c[e],d))},a),c}function c(a,c){var d=SM.Utils.toType(a);return"string"!==d&&"object"!==d&&"array"!==d?a:a="string"===d?c(a):b(a,c)}var d="smDfpRedirectMacro",e={PROTOCOL:/\[sm_protocol\]:?/i,LOCATION:/\[location\]/i,REFERRER:/\[referrer\]/i,TIMESTAMP:/\[timestamp\]/i,REDIRECT_URL:/\[redirect_url]/i},f={PROTOCOL:function(a){return a.split(e.PROTOCOL).join(g)},LOCATION:function(a){return a.split(e.LOCATION).join(window.location.href)},REFERRER:function(a){return a.split(e.REFERRER).join(document.referrer)},TIMESTAMP:function(a){return a.split(e.TIMESTAMP).join(Date.now())},REDIRECT_URL:function(a){return a.split(e.REDIRECT_URL).join(window[d])}},g="https:"==document.location.protocol?"https:":"http:";return a.protocol=g,a.process=function(b){return c(b,a.processStr)},a.processList=function(c){return b(c,a.processStr)},a.processStr=function(b){return SM.Utils.each(e,function(a,c){b=f[c](b)},a),b},a.protocolize=function(b){return c(b,a.protocolizeStr)},a.protocolizeList=function(c){return b(c,a.protocolizeStr)},a.protocolizeStr=function(a){return f.PROTOCOL(a)},a.prependClickTrackersToList=function(c){return b(c,a.prependClickTrackersToStr)},a.prependClickTrackersToStr=function(a){return f.REDIRECT_URL(a)},a}(SM.Macros||{}),SM.Protocolizer=function(a){"use strict";var b=/\[sm_protocol\]:?/i,c="https:"==document.location.protocol?"https:":"http:";return a.PROTOCOL_MACRO=b,a.getProtocol=function(){return c},a.protocolize=function(a){return a?a.split(b).join(c):void 0},a.protocolizeObj=function(b){return SM.Utils.each(b,function(c,d){"string"===SM.Utils.toType(c)&&(b[d]=a.protocolize(c))},a),b},a}(SM.Protocolizer||{}),SM.DeviceUtils=function(a){"use strict";function b(){var b={Android:/Android/i,iPhone:/iPhone/i,iPad:/iPad/i,iOS:/iOS/i,Macintosh:/Macintosh/i,Windows:/Windows/i,Linux:/Linux/i,WebOS:/webOS/i,Blackberry:/BlackBerry/i},f=!1,g="",h=!1,i="";for(var j in b)if(h=b[j].test(c)){g=j.split(" ").join("_");break}""===g&&(g=navigator.platform),f="ontouchstart"in document.documentElement||null!==navigator.userAgent.match(/ipad|iphone|android/i),i=f?"touch":"mouse";var k=window.devicePixelRatio||1;e={sm_os:g,sm_plt:i,sm_brw:a.getBrowser(),sm_pr:k},d=!0}var c=navigator.userAgent.toLowerCase(),d=!1,e={};return a.browsers={IPHONE:"Iphone",ANDROID:"Android",CHROME:"Chrome",SAFARI:"Safari",FIREFOX:"Firefox",OPERA:"Opera",IE:"IE"},a.isMobile=function(){return c.match(/iphone|ipad|android/i)},a.isIphone=function(){return c.match(/iphone/i)},a.isIpad=function(){return c.match(/ipad/i)},a.isAndroid=function(){return c.match(/android/i)},a.isChrome=function(){return!!window.chrome&&!a.isOpera()},a.isSafari=function(){return-1!=c.indexOf("safari")&&-1===c.indexOf("chrome")},a.isFirefox=function(){return"undefined"!=typeof InstallTrigger},a.isOpera=function(){return!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0},a.isIE=function(){var a=!1;return-1!==c.indexOf("msie")?a=parseInt(c.split("msie")[1]):navigator.appVersion.indexOf("Trident/")>0?a=11:c.indexOf("edge/")>0&&(a=parseInt(c.split("edge/")[1])),a},a.hasFlash=function(){var a=!1;try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(a=!0)}catch(b){void 0!==navigator.mimeTypes["application/x-shockwave-flash"]&&(a=!0)}return a},a.getType=function(b){var c="is"+b;return!a[c]instanceof Function?!1:a[c]()},a.getSafariVersion=function(){var a;if(-1!=(a=c.indexOf("safari"))){var b=c.substring(a+7);return-1!=(a=c.indexOf("version"))&&(b=c.substring(a+8,a+14)),Number.parseFloat(b)}return 0},a.getChromeVersion=function(){var a=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return a?parseInt(a[2],10):0},a.getBrowser=function(){if(d)return e.sm_brw;var b="",c=a.browsers;for(var f in c)if(a.getType(c[f])){b=c[f];break}return b},a.getAndroidVersion=function(){var a=c.match(/Android\s([0-9\.]*)/i);return a?a[1]:!1},a.getOs=function(){return d||b(),e.sm_os},a.getPlatformInfo=function(){return d||b(),e},a.checkForDeviceMotion=function(){return"undefined"!=typeof window.DeviceMotionEvent&&window.DeviceMotionEvent?1:0},a.isWebGLEnabled=function(){if(window.WebGLRenderingContext){for(var a=document.createElement("canvas"),b=["webgl","experimental-webgl","moz-webgl","webkit-3d"],c=!1,d=0,e=b.length;e>d;d++)try{if(c=a.getContext(b[d]),c&&"function"==typeof c.getParameter)return!0}catch(f){}return!1}return!1},a}(SM.DeviceUtils||{}),SM.JsLoader=function(a){"use strict";function b(a,b,c,e,f,g,i,j,k){if(this.urls=a,this.id=b||(new Date).getTime(),this.completeCallback=c||null,this.batchComplete=e||null,this.timeoutCallback=f||null,this.callbackContext=i||window,this.max=j||h,this.async=k||!1,this.loaded=0,this.count=0,this.total=a.length,k)for(;this.urls.length>0;)new d(this.urls.shift(),this.id+this.loaded,this.onFileLoaded.bind(this),this.onTimeout.bind(this),this,this.max);else new d(this.urls.shift(),this.id+this.loaded,this.onFileLoaded.bind(this),this.onTimeout.bind(this),this,this.max);return this}function c(a,b,c,d,e,g,h,i){this.script=f(a,b,c,d,e,g,h,!0,i)}function d(a,b,c,d,e,g,h,i){this.script=f(a,b,c,d,e,g,h,!1)}function e(a){var b=a.replace(/\?\&/g,"?");return b=b.replace(/\?{2,}/g,"?"),b=b.replace(/\&{2,}/g,"&")}function f(a,b,c,d,f,g,j,k,l){var m,n=j||h,o=g||window,p=b||"",q=l||"sm_cb",r="sm"+p+String(Math.floor(99999999*Math.random())),s=c||function(){},t=d||function(){},u=f||function(){},v=window.setTimeout(function(){window[r]=function(){},t.call(o,null,!1,b)},n);return window[r]=function(a){window.clearTimeout(v),s.call(o,a,!0,b),window[r]=function(){}},m=document.createElement("script"),m.setAttribute("type","text/javascript"),m.setAttribute("id",p),m.async=!0,a=e(a),k?a+="&"+q+"="+r:m.readyState?m.onreadystatechange=function(){("loaded"==m.readyState||"complete"==m.readyState)&&window[r](a)}:m.onload=function(){window[r](a)},m.src=a,m.onerror=u,i.appendChild(m),m}function g(a){a.loaded++,!a.async&&a.urls.length>0?new d(a.urls.shift(),a.id+a.loaded,a.onFileLoaded.bind(a),a.onTimeout.bind(a),a,a.max):a.loaded>=a.total&&a.batchComplete instanceof Function&&a.batchComplete.call(a.callbackContext)}var h=5e3,i=document.getElementsByTagName("head")[0];return b.prototype.onFileLoaded=function(a,b,c){this.completeCallback instanceof Function&&this.completeCallback.call(this.callbackContext,a,b,c),g(this)},b.prototype.onTimeout=function(a,b,c){this.timeoutCallback instanceof Function&&this.timeoutCallback.call(this.callbackContext,a,!1,c),g(this)},b.prototype.onError=function(a,b,c){this.errorCallback instanceof Function&&this.errorCallback.call(this.callbackContext,a,!1,c),g(this)},a.batchLoad=function(a,c,d,e,f,g,h,i,j){return new b(a,c,d,e,f,g,h,i,j)},a.load=function(a,b,c,e,f,g,h,i){return new d(a,b,c,e,f,g,h,i)},a.jsonp=function(a,b,d,e,f,g,h,i){return new c(a,b,d,e,f,g,h,i)},a}(SM.JsLoader||{}),SM.Lib=function(a){"use strict";return"undefined"==typeof console||"undefined"==typeof console.log?a.console={log:function(){},warn:function(){},error:function(){},dir:function(){}}:a.console=console,a}(SM.Lib||{});var smtrace=function(){"undefined"!=typeof console&&"undefined"!=typeof console.log&&SM.Utils.each(arguments,function(a){console.log(a)})},sminfo=function(){"undefined"!=typeof console&&"undefined"!=typeof console.info&&SM.Utils.each(arguments,function(a){console.info(a)})},smwarn=function(){"undefined"!=typeof console&&"undefined"!=typeof console.warn&&SM.Utils.each(arguments,function(a){console.warn(a)})},smerror=function(){"undefined"!=typeof console&&"undefined"!=typeof console.error&&SM.Utils.each(arguments,function(a){console.error(a)})};SM.Dom=function(a){"use strict";return a.head=document.head||document.getElementsByTagName("head")[0],a.getElementsByClassName=function(a,b){for(var c=b||document,d=[],e=new RegExp("(^| )"+a+"( |$)"),f=c.getElementsByTagName("*"),g=0,h=f.length;h>g;g++)e.test(f[g].className)&&d.push(f[g]);return d;var g,h},a.getChildByClassName=function(b,c){var d=a.getElementsByClassName(c,b);return d&&d.length>=1?d[0]:null},a.addListener=function(a,b,c,d){null!==a&&(document.addEventListener?a.addEventListener(b,c,d):a.attachEvent("on"+b,c))},a.removeListener=function(a,b,c){document.addEventListener?a.removeEventListener(b,c):a.detachEvent("on"+b,c)},a.addStyleClass=function(a,b){a.className?a.className+=" "+b:a.className=b},a.addStyleCss=function(b,c){var d="undefined"!=typeof c?document.getElementById(c)||document.createElement("style"):document.createElement("style");return d.setAttribute("type","text/css"),c&&d.setAttribute("id",c),d.styleSheet?d.styleSheet.cssText=b:d.appendChild(document.createTextNode(b)),a.head.appendChild(d),d},a.attrs=function(a,b){return SM.Utils.each(b,function(b,c){a.setAttribute(c,b)},this),a},a.css=function(a,b){return SM.Utils.each(b,function(b,c){a.style[c]=b},this),a},a.hide=function(a){a.style.visibility="hidden"},a.show=function(a){a.style.visibility="visible"},a.remove=function(a){a.parentNode.removeChild(a)},a.isBody=function(a){return document.body===a},a.aspectRatioLayout=function(b,c,d,e){var f=d||b.parentNode,g=a.calculateAspectRatio(c,f,e);b.style.width=g.width+"px",b.style.height=g.height+"px",b.style.left=g.left+"px",b.style.top=g.top+"px"},a.calculateAspectRatio=function(a,b,c){var d,e,f={},g=SM.Dom.isBody(b),h=g?document.documentElement.clientWidth:b.offsetWidth,i=g?document.documentElement.clientHeight:b.offsetHeight,j=h/i;return a>j?(e=c?Math.floor(h/a):h/a,f.width=h,f.height=e,f.left=0,f.top=(i-e)/2):(d=c?Math.floor(i*a):i*a,f.width=d,f.height=i,f.left=(h-d)/2,f.top=0),f},a.onDomReady=function(){function a(){d?document.removeEventListener("DOMContentLoaded",a,!0):"complete"===document.readyState&&document.detachEvent("onreadystatechange",a),c()}function b(){if(!e){try{document.documentElement.doScroll("left")}catch(a){return void window.setTimeout(arguments.callee,15)}c()}}function c(){if(!e){e=!0;for(var a=g.length,b=0;a>b;b++)g[b].call(document)}}var d=!!document.addEventListener,e="complete"===document.readyState,f=!1,g=[];if(d)document.addEventListener("DOMContentLoaded",a,!0),window.addEventListener("load",c,!1);else{document.attachEvent("onreadystatechange",a),window.attachEvent("onload",c);try{f=null===window.frameElement}catch(h){}document.documentElement.doScroll&&f&&b()}return function(a){return e?a.call(document):g.push(a)}}(),a}(SM.Dom||{}),SM.DataAttributes=function(a){function b(a){var b=a.attributes,c={},d="data-";for(var e in b)if(!(b[e]instanceof Function)&&"undefined"!=typeof b[e]&&"undefined"!=typeof b[e].localName){var f=b[e].localName,g=f.indexOf(d);if(g>-1){var h=f.substr(g+d.length,f.length),i=h.replace(/(-.)/g,function(a){return a.slice(1).toUpperCase()});c[i]=b[e].nodeValue}}return c}return a.get=function(a,c){var d;if("undefined"!=typeof a.dataset)d=a.dataset[c];else{var e=b(a);d=e[c]}return d},a.getAll=function(a){var c={};return c="undefined"!=typeof a.dataset?a.dataset:b(a)},a.parseFromAttributes=b,a}(SM.DataAttributes||{}),SM.Grid=function(a){"use strict";return a.createGrid=function(b){var c={};return c.gridId=b.id||"sm_grid_container",c.gridClassName=b.className||"sm_grid_container",c.views=[],a.cellW=100/b.aspectRatio[0],a.cellH=100/b.aspectRatio[1],SM.Utils.each(b.views,function(b,d){b.left=a.cellW*b.grid[0],b.top=a.cellH*b.grid[1],b.width=a.cellW*b.grid[2],b.height=a.cellH*b.grid[3],c.views.push(b)},a),c},a.generate=function(a,b,c){var d={left:a*c[0],top:b*c[1],width:a*c[2],height:b*c[3]};return d},a.calculateSizeByCells=function(a,b,c,d){var e=d||!1,f={},g=SM.Dom.isBody(c),h=g?document.documentElement.clientWidth:c.offsetWidth,i=g?document.documentElement.clientHeight:c.offsetHeight,j=e?Math.floor(h/a):h/a,k=e?Math.floor(i/b):i/b,l=k>j?j:k;return f.unit=l,f.width=l*a,f.height=l*b,f.left=(h-f.width)/2,f.top=(i-f.height)/2,f},a}(SM.Grid||{}),SM.Tmpl=function(a){"use strict";function b(a,b){var c=b,d=a.split(".");if(d[0])for(var e=0;e<d.length;++e)c=c[d[e]];return c}function c(a){return n.hasOwnProperty(a)?n[a]:{}}function d(a){var b=a.split("(");if(2===b.length)return{keyword:b[0],variable:b[1].slice(0,b[1].length-1)};var c=e(a),d=a.split("@")[0].split("."),f=d.shift(),g="div",h=null,i=f.split("#",2);return 1===i.length&&""!==i[0]?g=i[0]:(h=i[1],""!==i[0]&&(g=i[0])),{element:g.split("_")[0],id:h,classes:d,attrs:c}}function e(a){var b=a.split("@");b.shift();for(var c=/\(([^)]+)\)/,d=[],e=0;e<b.length;e++){var f=b[e].substr(0,b[e].indexOf("(")),g=c.exec(b[e]);d.push({key:f,value:g[1]})}return d}function f(a,b,c){var d={};if(b.hasOwnProperty("attrs")||a.attrs.length>0)if(b.hasOwnProperty("attrs"))for(var e in b.attrs)b.attrs.hasOwnProperty(e)&&(d[e]=g(b.attrs[e],c));else for(var f=0;f<a.attrs.length;f++)d[a.attrs[f].key]=g(a.attrs[f].value,c);if(a.id&&(d.id=a.id),a.classes.length>0){var h;h=d["class"]?[d["class"]]:[];for(var f=0;f<a.classes.length;++f)h.length>0&&h.push(" "),h.push(a.classes[f]);d["class"]=h.join("")}"string"==typeof b&&p[a.element]&&(d.src=b);var i=["<",a.element];for(var j in d)d.hasOwnProperty(j)&&(i.push(" "),i.push(j),i.push('="'),i.push(d[j]),i.push('"'));return i.push(">"),b.hasOwnProperty("innerText")&&i.push(g(b.innerText,c)),i.join("")}function g(a,c){var d=a.split("~{");if(d.length>1){for(var e=[d[0]],f=1;f<d.length;++f){var g=d[f].split("}~");e.push(b(g[0],c)),e.push(g[1])}return e.join("")}return a}function h(a){return"[object Array]"===Object.prototype.toString.call(a)}function i(a,d,e){var f=b(a.variable,e),g={};for(var i in e)g[i]=e[i];var j=d;"string"==typeof d&&(j=c(d));var k=[];if(h(f)){g.length=f.length;for(var m=0;m<f.length;++m)g.index=m,g.current=f[m],k.push(l(j,g,""))}return k.join("")}function j(a,c,d){var e,f=b(a.variable,d),g=SM.Utils.clone(c);return c["else"]&&(e=c["else"],delete g["else"]),f?m(g,d):e?m(e,d):""}function k(a,c,d){var e=b(c,d);return m(a.variable,e)}function l(a,b){var c=[];for(var e in a)if(a.hasOwnProperty(e)&&"attrs"!==e&&"innerText"!==e){var h=d(g(e,b)),i=a[e];h.keyword?o[h.keyword]&&c.push(o[h.keyword](h,i,b)):(c.push(f(h,i,b)),"object"==typeof i?c.push(l(i,b)):"string"!=typeof i||p[h.element]||c.push(g(i,b)),c.push("</"+h.element+">"))}return c.join("")}function m(a,b){return"string"==typeof a?n.hasOwnProperty(a)?l(n[a],b):"":l(a,b)}var n={},o={each:i,"if":j,template:k},p={img:!0,script:!0};return a.registerCommand=function(a,b){n.hasOwnProperty(a)||(o[a]=b)},a.unregisterCommand=function(a){"each"===a||"if"===a||"template"===a||o.hasOwnProperty(a)&&delete o[a]},a.registerTemplate=function(a,b){n.hasOwnProperty(a)||(n[a]=b)},a.unregisterTemplate=function(a){delete n[a]},a.generate=m,a}(SM.Tmpl||{}),SM.StyleCategoryManager=function(a){"use strict";function b(a){this.id=a.id,this.config=a,this.styleStrings={},this.styleEls={},this.currentCategory="",this.isCategoryChanged=!1,this.isFirstCalculation=!0}function c(b){if(this.styleEls.hasOwnProperty(b)){var c=this.styleEls[b];a.head.appendChild(c)}}function d(a){if(this.styleEls.hasOwnProperty(a)){var b=this.styleEls[a];b&&b.parentNode&&b.parentNode.removeChild(b)}}var e={DESKTOP:"desktop",LANDSCAPE:"landscape",PORTRAIT:"portrait"};return a.Categories=e,b.prototype.init=function(a){SM.Utils.each(a,function(a,b){this.styleStrings[b]=a},this),this.createElements()},b.prototype.addStyleCategory=function(a,b){this.styleStrings[a]=b},b.prototype.createElements=function(){SM.Utils.each(this.styleStrings,function(a,b){var c=document.createElement("style");c.setAttribute("type","text/css"),c.setAttribute("id",b),c.styleSheet?c.styleSheet.cssText=a:c.appendChild(document.createTextNode(a)),this.styleEls[b]=c},this),this.resize()},b.prototype.resize=function(){var b=this.currentCategory;this.currentCategory=a.calculateSizeCategory.call(this,this.config.minWidth,this.config.minHeight),b!==this.currentCategory?(this.isCategoryChanged=!0,""!==b&&d.call(this,b+this.id),c.call(this,this.currentCategory+this.id)):this.isCategoryChanged=!1},b.prototype.removeCurrentStyleEl=function(){""!==this.currentCategory&&d.call(this,this.currentCategory+this.id)},b.prototype.restoreCurrentStyleEl=function(){""!==this.currentCategory&&c.call(this,this.currentCategory+this.id)},a.create=function(c){return a.head||(a.head=document.getElementsByTagName("head")[0]),new b(c)},a.calculateSizeCategory=function(a,b){var c,d,f,g="",h=document.documentElement.clientWidth,i=document.documentElement.clientHeight;return SM.DeviceUtils.isMobile()&&!SM.DeviceUtils.isIpad()&&(h/=window.devicePixelRatio||1,i/=window.devicePixelRatio||1),i>h?(c=a,d=b,f=!0):(c=b,d=a,f=!1),g=c>=h||d>=i?f?e.PORTRAIT:e.LANDSCAPE:e.DESKTOP},a}(SM.StyleCategoryManager||{}),SM.CrossDomain=function(a){"use strict";function b(a){0!==c.length&&SM.Utils.each(c,function(b){if(a.origin===b.origin){var c;if(a.data&&"undefined"!=typeof a.data.indexOf&&a.data.indexOf("{")>-1)try{c=JSON.parse(a.data)}catch(d){}finally{c=c||{}}else c={type:a.data};var e=b.context||window;b.key?b.key===c.key&&b.callback.call(e,a):b.callback.call(e,a)}},this)}var c=[];return a.startedListening=!1,a.intervalId=null,a.sendMessage=function(a,b,c){b&&(c=c||parent,window.postMessage?(b=b.replace(/([^:]+:\/\/[^\/]+).*/,"$1"),c.postMessage(a,b)):b&&(c.location=b.replace(/#.$/,"")+"#"+String((new Date).getTime())+"&"+a))},a.sendObject=function(a,b,c){a.key=a.key||document.location.href,this.sendMessage(JSON.stringify(a),b,c)},a.addRecipient=function(d){c.push(d),a.startedListening||(window.postMessage?SM.Dom.addListener(window,"message",b,!1):a.intervalId=setInterval(function(){var c=document.location.hash,d=/^#?\d+&/;c!==a.lastHash&&re.test(c)&&(a.lastHash=c,b({data:c.replace(d,"")}))}),a.startedListening=!0)},a.destroy=function(){window.postMessage?SM.Dom.removeListener(window,"message",b):clearInterval(a.intervalId)},a}(SM.CrossDomain||{}),SM.Events=function(a){"use strict";return a={PLAYER_IMPRESSION:"playerImpression",PLAYER_VIEWED:"playerViewed",COMPONENT_IMPRESSION:"componentImpression",COMPONENT_VIEWED:"componentViewed",COMPONENT_ASSET_IMPRESSION:"componentAssetImpression",COMPONENT_ASSET_VIEWED:"componentAssetViewed",SM_READY:"smReady",SM_PLAYER_READY:"smPlayerReady",SM_CLOSE:"smClose",WRAPPER_BUILT:"wrapperBuilt",ADS_AVAILABLE_RESPONSE:"adsAvailableResponse",PUB_WRAPPER_RESPONSE:"pubWrapperResponse",PUB_LOBBY_IMPRESSION:"pubLobbyImpression",PUB_LOBBY_SUBSCRIBE_CHOSEN:"pubLobbySubscribeChosen",PUB_LOBBY_SELECTOR_CHOSEN:"pubLobbySelectorChosen",VANGUARD_INITIALIZED:"vanguardInitialized",SHOW_PLAYER:"showPlayer",HIDE_PLAYER:"hidePlayer",PLAYER_SIZED:"playerSized",PLAYER_SIZE_CHANGED:"playerSizeChanged",UNIT_LOAD:"unitLoad",AD_SELECTED:"adSelected",AD_STARTED:"adStarted",AD_RESTARTED:"adRestarted",AD_SYSTEM_STARTED:"adSystemStarted",AD_SYSTEM_INITIALIZED:"adSystemInitialized",MEDIA_STARTED:"mediaStarted",SEND_REPORT:"sendReport",SEND_AD_REPORT:"sendAdReport",SURVEY_REPORT:"surveyReport",FOCUS_LOST:"focusLost",REPORT_IMP:"reportImp",REPORT_25:"report25",REPORT_50:"report50",REPORT_75:"report75",REPORT_END:"reportEnd",PLAY_PREVIEW:"playPreview",PAUSE_VIDEO:"pauseVideo",PLAY_VIDEO:"playVideo",RESUME_VIDEO:"resumeVideo",MUTE_VIDEO:"muteVideo",UNMUTE_VIDEO:"unmuteVideo",ADJUST_VOLUME:"adjustVolume",BUTTON_CLICKED:"buttonClicked",IN_VIEW_TIME:"inViewTime",AD_CLICKED:"adClicked",CAN_FINISH:"canFinish",THIRD_PARTY_BILL:"thirdPartyBill",MEDIA_COMPLETED:"mediaCompleted",AD_SYSTEM_COMPLETED:"adSystemCompleted",RETURN_TO_PREVIOUS_AD_SYSTEM:"returnToPreviousadSystem",AD_SYSTEMS_COMPLETED:"adSystemsCompleted",AD_COMPLETED:"adCompleted",NOTIFICATION_COMPLETED:"notificationCompleted",ALL_COMPLETED:"allCompleted",OPEN_EXTERNAL_LINK:"openExternalLink",OPEN_OVERLAY:"openOverlay",EXTERNAL_IFRAME_CLOSED:"externalIframeClosed",WINDOW_RESIZED:"windowResized",ORIENTATION_CHANGED:"orientationChanged",LOGIN_SUCCESS:"loginSuccess",LOGIN_FAIL:"loginFail",AUTH_EVENT:"authEvent",BEHAVIOR_CLOSED:"behaviorClosed",USER_CLOSED:"userClosed",VANGUARD_CLOSED:"vanguardClosed",TAG_REDIRECT:"tagRedirect",ERROR:"error",LOAD_START:"loadstart",PROGRESS:"progress",SUSPEND:"suspend",ABORT:"abort",EMPTIED:"emptied",STALLED:"stalled",LOADED_META_DATA:"loadedmetadata",LOADED_DATA:"loadeddata",CAN_PLAY:"canplay",CAN_PLAY_THROUGH:"canplaythrough",PLAYING:"playing",WAITING:"waiting",SEEKING:"seeking",SEEKED:"seeked",ENDED:"ended",DURATION_CHANGE:"durationchange",TIME_UPDATE:"timeupdate",PLAY:"play",PAUSE:"pause",RATE_CHANGE:"ratechange",RESIZE:"resize",VOLUME_CHANGE:"volumechange",THREE_SECOND_PLAYBACK:"threeSecondPlayback",THIRTY_SECOND_PLAYBACK:"thirtySecondPlayback",PLAYER_EXPAND:"playerExpand",TOUCH_START:"touchStart",LOADED_25:"loaded25",LOADED_50:"loaded50",LOADED_75:"loaded75",LOADED_100:"loaded100",NO_FILES_ERROR:"noFilesError",TIMER_COMPLETED:"timerCompleted",START_PLAYER:"startPlayer",STOP_PLAYER:"stopPlayer",CAPTCHA_EVENT:"captchaEvent",ROTATION_EVENT:"rotationEvent",SEGMENT_START:"segmentStart",SEGMENT_END:"segmentEnd"}}(SM.Events||{}),SM.Errors=function(a){"use strict";return a={MISSING_PLACEMENT:"missingPlacement",ADS_AVAILABLE_ERROR:"adsAvailableApiError",ADS_AVAILABLE_TIMEOUT:"adsAvailableApiTimeout",PUB_WRAPPER_ERROR:"pubWrapperApiError",PUB_WRAPPER_TIMEOUT:"pubWrapperApiTimeout",REQUIRE_JS_ERROR:"requirejsError_",AD_SERVER_ERROR:"adServerError_",AD_SERVER_TIMEOUT:"adServerTimeout",REWARDING_APP_ERROR:"rewardingAppError",REWARDING_APP_TIMEOUT:"rewardingAppTimeout",UNSUPPORTED_BROWSER:"unsupportedBrowser",NO_COMPONENTS:"noComponents",HTML5_VIDEO_ERROR:"html5VideoError",VIDEO_PLAYBACK_STALL:"videoplaybackStall",VIDEO_PLAYBACK_COMPLETION_ERROR:"videoPlaybackCompletionError",THIRD_PARTY_CREATIVE_TIMEOUT:"thirdPartyCreativeTimeout",CANVAS_ERROR:"canvasError",IFRAME_LOAD_TIMEOUT:"iframeLoadTimeout",COMPONENT_VIEWED_TIMEOUT:"componentViewedTimeout",VIDEO_INIT_STALL:"videoInitStall"}}(SM.Errors||{}),SM.InternalEvents=function(a){"use strict";return a={SHOW_MODULE:"showModule",HIDE_MODULE:"hideModule",SWITCH_SCREEN:"switchScreen",CLOSE_SCREEN:"closeScreen",FINISH_CLICKED:"finishClicked",SHOW_BACK_BUTTON:"showBackButton",HIDE_BACK_BUTTON:"hideBackButton",BRAND_BANNER_CLICKED:"brandBannerClicked",PLAYER_IFRAME_XDM_INITIALIZED:"playerIframeXdmInitialized",SET_PUBLISHER_CONFIG:"setPublisherConfig",SET_PLAYER_RESPONSE:"setPlayerResponse",SEND_EVENT_TO_IFRAME:"sendEventToIframe",JQUERY_INITIALIZED:"jqueryInitialized",VANGUARD_SCRIPT_LOADED:"vanguardScriptLoaded",READY_TO_BUILD_VIEWS:"readyToBuild",CLOSE_VANGUARD:"closeVanguard",RESET_SESSION:"resetSession",SESSION_RESET:"sessionReset",TAG_REDIRECT:"tagRedirect",LOBBY_ITEM_CLICKED:"lobbyItemClicked",EXPAND_LOGIN_IFRAME:"expandLoginIframe",COLLAPSE_LOGIN_IFRAME:"collapseLoginIframe",SHOW_PUB_WRAP_OVERLAY_COLOR:"showPubWrapOverlayColor",HIDE_PUB_WRAP_OVERLAY_COLOR:"hidePubWrapOverlayColor",REFERRAL_REPORT:"referralReport",OVERLAYS_INITIALIZED:"overlaysInitialized",OVERLAY_CLOSED:"overlayClosed",OVERLAY_OPENED:"overlayOpened",RESET_AD_SYSTEM:"resetAdSystem",COMPONENT_TIMER_TRANSITION_FORWARD:"componentTimerTransitionForward"}}(SM.InternalEvents||{}),SM.EventCenter=function(a){"use strict";function b(){this.listeners={}}var c=c||{};return b.prototype.bind=function(a,b,c){var d=c||this;this.listeners[a]||(this.listeners[a]=[]),this.listeners[a].push({callback:b,context:d})},b.prototype.trigger=function(a){var b=SM.Utils.find(this.listeners,function(b,c){return c===a.type});b&&SM.Utils.each(b,function(b){b&&b.callback&&b.callback.call(b.context,a)},this)},b.prototype.unbind=function(a,b){var c=this.listeners[a];SM.Utils.each(c,function(a,d){return a&&a.callback===b?(c.splice(d,1),!0):void 0},this),this.listeners[a]=c},b.prototype.unbindAll=function(){SM.Utils.each(this.listeners,function(a,b){a.splice(0,a.length),delete this.listeners[b]},this)},a.create=function(){return new b},a.bind=function(a,b,d){var e=d||this;c[a]||(c[a]=[]),c[a].push({callback:b,context:e})},a.trigger=function(a){var b=SM.Utils.find(c,function(b,c){return c===a.type});b&&SM.Utils.each(b,function(b){return b&&b.callback?(b.callback.call(b.context,a),!0):void 0},this)},a.unbind=function(a,b){var d=c[a];SM.Utils.each(d,function(a,c){a&&a.callback===b&&d.splice(c,1)},this),c[a]=d},a.unbindAll=function(){SM.Utils.each(c,function(a,b){a.splice(0,a.length),delete c[b]},this)},a}(SM.EventCenter||{}),SM.Timer=function(a){"use strict";function b(a){this.id=a,this.timeout=null,this.interval=null}var c={},d=0;return b.prototype.start=function(b,c,d,e,f){var g=d||{},h=e||window,i=f||!0,j=this;this.timeout=setTimeout(function(){c.call(h,j,g,b),i&&a.remove(j.id)},b)},b.prototype.loop=function(a,b,c,d){var e=c||{},f=d||window,g=this;this.interval=setInterval(function(){b.call(f,g,e,a)},a)},b.prototype.stop=function(){this.timeout?(clearTimeout(this.timeout),this.timeout=null):this.interval&&(clearInterval(this.interval),this.interval=null)},a.Controller=b,a.create=function(a){var e=a||d,f=new b(e);return c[e]=f,d++,f},a.get=function(a){return c.hasOwnProperty(a)?c[a]:void 0},a.stopAll=function(){PWG.Utils.each(c,function(a){a.stop()},a)},a.remove=function(a){c.hasOwnProperty(a)&&(c[a].stop(),delete c[a])},a}(SM.Timer||{}),function(){SM.Tmpl.registerTemplate("sm_navigator_holder",{"#sm_navigator_holder.sm_navigator_holder":{"#sm_navigator_close":"","iframe#sm_navigator_iframe.sm_browser_iframe":{attrs:{src:"~{url}~",frameBorder:"0",marginWidth:"0",marginHeight:"0",width:"100%",height:"100%"}}}})}(),SM.BrowserNavigator=function(a){"use strict";function b(b){(b.parentEl||b.parentId)&&(SM.Dom.addStyleCss(d),b.styles&&SM.Dom.addStyleCss(b.styles),a.parentEl=b.parentEl||document.getElementById(b.parentId),a.el=document.createElement("div"),a.el.setAttribute("id",b.id||"sm_browser_navigator"))}function c(b){var c=b.data||{url:b.url};c.value&&!c.url&&(c.url=c.value),a.navigate(c)}var d=".sm_navigator_holder{background:#333;width:100%;height:100%;left:0;top:0;position:absolute;;z-index:30000010;} #sm_navigator_close{background:url(//cdn.selectablemedia.com/lib/c/img/sprites/media_close_spritesheet02.png) no-repeat;background-size:200%;background-position:0 0;width:64px;height:64px;margin:5px;right:0;top:0;position:absolute;z-index:30000010;cursor:pointer;} #sm_navigator_close:active,#sm_navigator_close:hover{background-position:100% 0} #sm_navigator_close:visited{background-position:0 0} @media screen and (max-width:720px){ #sm_navigator_close{width:33px;height:33px;}} .sm_navigator_iframe{width:100%;height:100%;position:absolute;z-index:30000005;}";return a.isWindowNavigationEnabled=!0,a.isIframeNavigationEnabled=!1,a.init=function(d){d.eventCenter&&(a.eventCenter=d.eventCenter,a.isWindowNavigationEnabled=d.windowNavigation,a.isIframeNavigationEnabled=d.iframeNavigation,a.eventCenter.bind(SM.Events.OPEN_EXTERNAL_LINK,c,a),a.isIframeNavigationEnabled&&b(d))},a.navigate=function(b){var c=b.target&&"_self"===b.target?!0:!1,d=b.windowNavigation||a.isWindowNavigationEnabled,e=b.iframeNavigation||a.isIframeNavigationEnabled;d?c?document.location.href=b.url:window.open(b.url):e&&a.createExternalIframe(b.url)},a.createExternalIframe=function(b){a.el&&(a.destroyExternalIframe(),a.el.innerHTML=SM.Tmpl.generate("sm_navigator_holder",{url:b}),a.parentEl.appendChild(a.el),a.appended=!0,SM.Dom.addListener(document.getElementById("sm_navigator_close"),"click",a.destroyExternalIframe))},a.destroyExternalIframe=function(){a.el&&a.appended&&(a.parentEl.removeChild(a.el),a.appended=!1)},a}(SM.BrowserNavigator||{}),SM.ImageManager=function(a){"use strict";var b=/\[timestamp\]/i;return a.load=function(a,c,d){var e=new Image;if(a=a.split(b).join(String((new Date).getTime())),c){var f=d||window;SM.Dom.addListener(e,"load",function(){c.call(f,!0,a,e)}),SM.Dom.addListener(e,"error",function(){c.call(f,!1,a,e)})}return e.src=a,e},a}(SM.ImageManager||{}),SM.Reporter=function(a){"use strict";function b(a){this.isReady=!1,this.queue=[],this.params={},this.baseQueryString="",this.queryStrings={},this.url=a.url||"",a.params&&d(this,a.params),e(this),a.externalTracking?this.externalTracking=f(a.externalTracking):a.thirdParty&&(this.thirdParty=a.thirdParty),this.url&&(this.url=SM.Utils.formatUrlForQueryString(this.url),this.isReady=!0,this.queue.length>0&&this.clearQueue());
}function c(b,c){var d;c[b.type]&&(b.type===SM.Events.BUTTON_CLICKED?c[b.type][b.status]&&(d=c[b.type][b.status]):d=c[b.type],a.loadArrayOrString(d))}function d(a,b){SM.Utils.each(b,function(b,c){"base"===c?(a.params.base=SM.Utils.extend(a.params.base,b),a.baseQueryString=SM.Utils.objToQueryString(a.params.base,!0)):"object"===SM.Utils.toType(b)?(a.params[c]=SM.Utils.extend(a.params[c]||{},b),a.queryStrings.hasOwnProperty(c)||(a.queryStrings[c]={}),SM.Utils.each(b,function(b,d){a.queryStrings[c][d]=SM.Utils.objToQueryString(b,!0)},a)):(a.baseQueryString+="&"+c+"="+b,a.params[c]=b)})}function e(a){-1===a.baseQueryString.indexOf("iid")&&(a.baseQueryString.indexOf("instanceId")>-1?a.baseQueryString.replace("instanceId","iid"):a.baseQueryString+="&iid="+String(Math.floor(999999999*Math.random())))}function f(a){return SM.Utils.each(a,function(b,c){SM.Utils.each(b.trigger,function(b,d){a[c].trigger[d]=g(b)})}),a}function g(b){var c=b.match(a.REGEX_VALUE);return c?{type:"regex",value:new RegExp(c[1])}:{type:"string",value:b}}function h(a,b){for(var c in b){if(!a.hasOwnProperty(c))return;if("regex"===b[c].type){if(!a[c].match(b[c].value))return}else if(a[c]!==b[c].value)return}return!0}return a.REGEX_VALUE=/^\/(.*)\/$/,b.prototype.addParams=function(a){d(this,a)},b.prototype.update=function(a){a.url&&(this.url=a.url),a.externalTracking?this.externalTracking=SM.Utils.extend(this.externalTracking,f(a.externalTracking)):a.thirdParty&&(this.thirdParty||(this.thirdParty={}),this.thirdParty=SM.Utils.extend(this.thirdParty,a.thirdParty)),a.params&&d(this,a.params)},b.prototype.sendReport=function(a,b,c,d){var e="";"string"==typeof a&&(a={type:a}),a.type&&(this.queue.push({event:a,callback:b,context:c,reportingUrl:d,params:e}),this.isReady&&this.clearQueue())},b.prototype.clearQueue=function(){var b=this.queue.pop(),c=b.reportingUrl||this.url,d=b.event;if(c+=SM.Utils.objToQueryString(b.event,!0),c+=b.params,this.baseQueryString&&(c+="&"+this.baseQueryString),SM.Utils.each(this.queryStrings,function(a,b){d.hasOwnProperty(b)&&a.hasOwnProperty(d[b])&&(c+="&"+a[d[b]])},this),this.externalTracking){var e=c.substr(c.indexOf("?")+1,c.length),f=e.split("&"),g={};f.forEach(function(a){var b=a.split("=");g[b[0]]=b[1]}),a.pingExternalTracking(g,this.externalTracking)}else this.thirdParty&&a.sendThirdPartyReport(b.event,this.thirdParty);if(c.indexOf("&ts=")<0&&(c+="&ts=[timestamp]"),b.callback){var h=b.context||window;this.callbacks[c]={cb:b.callback,ctx:h}}c=c.replace(/[&]*([&])\1/g,"&"),a.loadUrl(c,this.reportLoaded,this),this.queue.length>0&&this.clearQueue()},b.prototype.reportLoaded=function(a,b){this.callbacks&&this.callbacks.hasOwnProperty(b)&&this.callbacks.cb.call(this.callbacks.ctx,b,a)},a.Controller=b,a.create=function(b){return new a.Controller(b)},a.loadUrl=function(a,b,c){var d=a.type?a.type:"pixel",e=a.url?a.url:a;b=b||function(){};var f=c||window;"script"===d?SM.JsLoader.load(e,"",b,null,null,f):SM.ImageManager.load(e,b,f)},a.sendThirdPartyReport=function(b,d){b.acid&&d.acid&&d.acid[b.acid]&&c.call(a,b,d.acid[b.acid]),b.cdbid&&d.cdbid&&d.cdbid[b.cdbid]&&c.call(a,b,d.cdbid[b.cdbid]),b.crid&&d.crid&&d.crid[b.crid]&&c.call(a,b,d.crid[b.crid]),c.call(a,b,d)},a.pingExternalTracking=function(a,b){SM.Utils.each(b,function(b){if(b.type===a.type){var c=h(a,b.trigger);c&&(b.urls&&SM.Utils.each(b.urls,function(a){SM.ImageManager.load(a)}),b.scripts&&SM.Utils.each(b.scripts,function(a){SM.JsLoader.load(a)}))}})},a.loadArrayOrString=function(b){b&&(b instanceof Array?SM.Utils.each(b,function(b){a.loadUrl(b)},a):a.loadUrl(b))},a}(SM.Reporter||{}),SM.ReportCenter=function(a){"use strict";function b(b){this.id=b.id||String((new Date).getTime()),this.events=[],b.events&&this.addCustomEvents(b.events),this.reporter=SM.Reporter.create(b),SM.ComscoreReport&&SM.ComscoreReport.init(b.params.base.pid,b.params.base.stid,a)}function c(b){var e={};return SM.Utils.each(b,function(b,f){SM.Utils.isArray(b)?(SM.Utils.each(b,function(a,c){b[c]=d(a)},a),e[f]=b):"string"==typeof b?e[f]=d(b):e[f]=c(b)},a),e}function d(a){return SM.Macros.protocolize(a)}var e={},f=[SM.Events.PLAYER_IMPRESSION,SM.Events.PLAYER_VIEWED,SM.Events.COMPONENT_IMPRESSION,SM.Events.COMPONENT_VIEWED,SM.Events.COMPONENT_ASSET_IMPRESSION,SM.Events.COMPONENT_ASSET_VIEWED,SM.Events.SM_READY,SM.Events.SM_CLOSE,SM.Events.ADS_AVAILABLE_RESPONSE,SM.Events.PUB_WRAPPER_RESPONSE,SM.Events.PUB_LOBBY_IMPRESSION,SM.Events.PUB_LOBBY_SUBSCRIBE_CHOSEN,SM.Events.PUB_LOBBY_SELECTOR_CHOSEN,SM.Events.VANGUARD_INITIALIZED,SM.Events.SHOW_PLAYER,SM.Events.HIDE_PLAYER,SM.Events.UNIT_LOAD,SM.Events.AD_SELECTED,SM.Events.AD_STARTED,SM.Events.AD_RESTARTED,SM.Events.AD_SYSTEM_STARTED,SM.Events.SEND_REPORT,SM.Events.SURVEY_REPORT,SM.Events.RETURN_TO_VIEW,SM.Events.FOCUS_LOST,SM.Events.REPORT_IMP,SM.Events.REPORT_25,SM.Events.REPORT_50,SM.Events.REPORT_75,SM.Events.REPORT_END,SM.Events.THIRD_PARTY_BILL,SM.Events.PAUSE_VIDEO,SM.Events.PLAY_VIDEO,SM.Events.RESUME_VIDEO,SM.Events.BUTTON_CLICKED,SM.Events.IN_VIEW_TIME,SM.Events.AD_CLICKED,SM.Events.AD_SYSTEM_COMPLETED,SM.Events.RETURN_TO_PREVIOUS_AD_SYSTEM,SM.Events.AD_COMPLETED,SM.Events.AD_SYSTEMS_COMPLETED,SM.Events.ALL_COMPLETED,SM.Events.OPEN_EXTERNAL_LINK,SM.Events.EXTERNAL_IFRAME_CLOSED,SM.Events.LOGIN_SUCCESS,SM.Events.LOGIN_FAIL,SM.Events.AUTH_EVENT,SM.Events.USER_CLOSED,SM.Events.ERROR,SM.Events.TIMER_COMPLETED,SM.Events.THREE_SECOND_PLAYBACK,SM.Events.THIRTY_SECOND_PLAYBACK,SM.Events.LOAD_START,SM.Events.PROGRESS,SM.Events.SUSPEND,SM.Events.ABORT,SM.Events.EMPTIED,SM.Events.STALLED,SM.Events.LOADED_META_DATA,SM.Events.LOADED_DATA,SM.Events.CAN_PLAY,SM.Events.CAN_PLAY_THROUGH,SM.Events.PLAYING,SM.Events.WAITING,SM.Events.SEEKING,SM.Events.SEEKED,SM.Events.ENDED,SM.Events.DURATION_CHANGE,SM.Events.TIME_UPDATE,SM.Events.PLAY,SM.Events.PAUSE,SM.Events.RATE_CHANGE,SM.Events.RESIZE,SM.Events.VOLUME_CHANGE,SM.Errors.MISSING_PLACEMENT,SM.Errors.ADS_AVAILABLE_ERROR,SM.Errors.ADS_AVAILABLE_TIMEOUT,SM.Errors.PUB_WRAPPER_ERROR,SM.Errors.PUB_WRAPPER_TIMEOUT,SM.Errors.REQUIRE_JS_ERROR,SM.Errors.AD_SERVER_ERROR,SM.Errors.AD_SERVER_TIMEOUT,SM.InternalEvents.BRAND_BANNER_CLICKED,SM.InternalEvents.CLOSE_VANGUARD,SM.InternalEvents.SESSION_RESET,SM.InternalEvents.TAG_REDIRECT,SM.InternalEvents.LOBBY_ITEM_CLICKED,SM.InternalEvents.REFERRAL_REPORT,SM.Events.CAPTCHA_EVENT,SM.Events.ROTATION_EVENT,SM.Events.SEGMENT_START,SM.Events.SEGMENT_END];return b.prototype.trigger=function(b){if(this.reporter&&(SM.Utils.indexOf(f,b.type)>-1||SM.Utils.indexOf(this.events,b.type)>-1)){if(SM.ComscoreReport&&b.type===SM.Events.REPORT_IMP&&SM.ComscoreReport.sendReport(),b.type===SM.Events.OPEN_EXTERNAL_LINK){var c=b.data;SM.Utils.each(c,function(a,c){"value"==c&&(a=encodeURIComponent(a)),b[c]=a},a),delete b.data}this.reporter.sendReport(b)}},b.prototype.addCustomEvents=function(a){SM.Utils.each(a,function(a){-1===SM.Utils.indexOf(this.events,a)&&-1===SM.Utils.indexOf(f,a)&&this.events.push(a)},this)},b.prototype.addParams=function(a){this.reporter&&this.reporter.addParams(a)},b.prototype.updateReporter=function(a){this.reporter&&(a.thirdParty&&(a.thirdParty=c.call(this,a.thirdParty)),this.reporter.update(a))},a.protocol=SM.Macros.protocol,a.create=function(a){a.url&&(a.url=d(a.url)),a.thirdParty&&(a.thirdParty=c(a.thirdParty));var f=new b(a);return e[f.id]=f,f},a}(SM.ReportCenter||{}),SM.Traverser=function(a){"use strict";return a.getValueFromPath=function(b,c,d){var e={},f=a.convertDecimalKeysToNumber(c.split(":")),g=0,h=d?f.length-1:f.length;if(0!==h){for(e=b;h>g;){if(!e.hasOwnProperty(f[g]))return;e=e[f[g]],g++}return e}},a.addValueToPath=function(b,c,d,e){var f=a.getValueFromPath(b,c,!1);f&&(f instanceof Array?f.push(d):f[e]=d)},a.replaceValueInPath=function(b,c,d){var e=a.getValueFromPath(b,c,!0);if(e){var f=a.convertDecimalKeysToNumber(c.split(":"));b=f[f.length-1],e[b]=d}},a.removeValueFromPath=function(b,c){var d=a.getValueFromPath(b,c,!0);if(d){var e=a.convertDecimalKeysToNumber(c.split(":"));b=e[e.length-1],"number"==typeof b?d.splice(b,1):delete d[b]}},a.convertDecimalKeysToNumber=function(a){for(var b=/^\d+$/,c=0,d=a.length;d>c;c++){!isNaN(a[c]);a[c]=b.test(a[c])?+a[c]:a[c]}return a},a}(SM.Traverser||{}),SM.FontSizer=function(a){"use strict";function b(a){e.hasOwnProperty(a.parentId)||(e[a.parentId]=document.getElementById(a.parentId)),this.el=document.getElementById(a.elId),this.heightPercentile=a.heightPercentile,this.sizeMultiplier=a.sizeMultiplier,this.parentId=a.parentId,this.parentEl=document.getElementById(a.parentId)}function c(a){if(a.parentEl&&a.el){var b=a.parentEl.clientHeight>a.parentEl.clientWidth?a.parentEl.clientWidth:a.parentEl.clientHeight,c=b*a.heightPercentile,d=Math.max(c*a.sizeMultiplier,f),e=d+"px";a.el.style.fontSize=e}}var d={},e={},f=1;return a.create=function(a){var c=new b(a);d.hasOwnProperty(a.id)||(d[a.id]=[]),d[a.id].push(c)},a.batchCreate=function(b){SM.Utils.each(b,function(b){a.create.call(a,b)},a)},a.update=function(b){d.hasOwnProperty(b)&&SM.Utils.each(d[b],function(a){c(a)},a)},a.batchUpdate=function(){SM.Utils.each(d,function(b,c){a.update.call(a,c)},a)},a.getControllers=function(){return d},a}(SM.FontSizer||{}),SM.LayoutUpdater=function(a){"use strict";var b,c=[],d=500;return a.isInitialized=!1,a.init=function(){a.isInitialized||(a.resizeHandler=function(a){return function(c){clearTimeout(b),b=setTimeout(function(){a.onResize(c)},d)}}(a),SM.Dom.addListener(window,"resize",a.resizeHandler),a.isInitialized=!0)},a.registerObject=function(b){a.isInitialized||a.init(),c.push(b)},a.unregisterObject=function(a){var b;b=c.indexOf(a),b>-1&&c.splice(b,1)},a.onResize=function(b){SM.Utils.each(c,function(a,c){a.layout(b)},a)},a.reset=function(){c=[],SM.Dom.removeListener(window,"resize",a.resizeHandler),a.initialized=!1},a}(SM.LayoutUpdater||{}),SM.Facebook=SM.Facebook||function(){"use strict";function a(a){var b;try{b=JSON.parse(a.data)}catch(c){}finally{b=b||{},b.key===f&&h.callback&&h.callback.call(h,b)}}function b(a){SM.CrossDomain.sendMessage(JSON.stringify(a),f,e)}function c(){e=d.contentWindow||d.contentDocument,f=d.getAttribute("src"),g=f.replace(/([^:]+:\/\/[^\/]+).*/,"$1"),SM.CrossDomain.addRecipient({callback:a,origin:g})}var d,e,f,g,h={},i="[sm_protocol]//cdn.sele.co/fr/c/sm_fb.html";return h.init=function(a){var b=a.iframeUrl||SM.Macros.protocolizeStr(i);b+="#"+window.location.href,d=document.createElement("iframe"),d.src=b,d.setAttribute("width","1"),d.setAttribute("height","1"),d.style.visibility="hidden",document.getElementsByTagName("body")[0].appendChild(d),a.callback&&(h.callback=a.callback),c()},h.share=function(a,c){h.callback=c||function(){},b({method:"share",params:a})},h.shareImageData=function(a,c){b({method:"shareImageData",params:a})},h}(),SM.SocialClickHandlers=SM.SocialClickHandlers||function(){"use strict";function a(a,f){var g=function(a){if(!SM.Facebook.isInitialized){var c=a||{};SM.Facebook.init(c)}return a.shareParams=SM.Macros.protocolizeList(a.shareParams),b},h=function(a){return c},i=function(a){return d},j=function(a){return a.url=SM.Macros.protocolizeStr(a.url),e};a=SM.Macros.process(a),SM.Utils.each(a,function(a){var b,c,d="sm_"+a.type,e=a.el||document.getElementById(d);if("null"!==SM.Utils.toType(e)){switch(d){case"sm_facebookShare":b=g(a);break;case"sm_print":b=h(a);break;case"sm_email":b=i(a);break;default:b=j(a)}c=function(c){return function(d){b.call(c,d,e,a)}}(this),SM.Dom.addListener(e,"click",c),a.reportingEvent=a.params||{}}},this),this.views=a,this.callback=f}function b(a,b,c){var d=c.shareParams,e=function(a,b){return function(c){f.call(a,c,b)}}(this,c);SM.Facebook.share({shareParams:d},e),g.call(this,c,SM.Events.BUTTON_CLICKED,c.type)}function c(a,b,c){window.print(),g.call(this,c,SM.Events.BUTTON_CLICKED,c.type)}function d(a,b,c){var d=c.shareParams||{},e=d.email||"",f="?subject="+(d.subject?d.subject:""),h="&body="+(d.body?d.body:""),i="mailTo:"+e+f+h;window.location.href=i,g.call(this,c,SM.Events.BUTTON_CLICKED,c.type)}function e(a,b,c){h.call(this,{type:SM.Events.OPEN_EXTERNAL_LINK,url:c.url}),g.call(this,c,SM.Events.BUTTON_CLICKED,c.type)}function f(a,b){"undefined"!=typeof a.response?g.call(this,b,SM.Events.BUTTON_CLICKED,j[1]):g.call(this,b,SM.Events.BUTTON_CLICKED,j[2])}function g(a,b,c){var d=SM.Utils.clone(a.reportingEvent);d.type=b,d.status=c,h.call(this,d)}function h(a){this.callback&&this.callback.fn.call(this.callback.ctx,a)}var i={},j=["socialIcon","facebookShared","facebookCancelled"];return i.create=function(b,c){return new a(b,c)},i}(),function(){SM.Tmpl.registerTemplate("sm_social",{"#sm_social_~{id}~.sm_social":{"if(addIcon)":{"#sm_social_icon_~{id}~":{".social_btn.sm_social_icon":""}},"#sm_social_tray_~{id}~":{"#sm_social_button_holder_~{id}~.sm_social_button_holder":{"each(views)":{"#sm_~{current.type}~.sm_social_btn_~{id}~_~{index}~.sm_social_btn_~{id}~.sm_btn":{".social_btn.~{current.type}~":""}}}}}})}(),SM.VeSocial=SM.VeSocial||function(){"use strict";function a(a){this.id=a.id||String((new Date).getTime()),this.config=a,this.config.views=a.views||a.buttons||null,a.aspectRatio?this.aspectRatio=a.aspectRatio:this.aspectRatio=a.template.indexOf("player")>-1?p.aspectRatios.player:p.aspectRatios.brandWrapper,this.config.addIcon="playerTray"!==a.template,this.sizeStyleStrings=b.call(this,a),c.call(this)}function b(a){if(a.views){var b="fullPlayer"===a.size?"full":"def";"undefined"!=typeof p.sizeStyleStrings.landscape[b]&&(p.sizeStyleStrings.landscape=p.sizeStyleStrings.landscape[b]);var c,d,e=p.sizeStyleStrings[a.size],f=a.position<e.length?a.position:0,g=e[f],h=(a.views.length,{left:0,top:0}),i={};return SM.Utils.each(p.sizeCategories,function(a){d=a+this.id+"_social",c="desktop"===a?g:p.sizeStyleStrings[a],i[d]=SM.Utils.parseMarkup(c,{id:this.id}),"desktop"===a&&f>4?(h.width=100/l,h.height=100):(h.width=100,h.height=100/l),h.id=this.id,i[d]+=" "+SM.Utils.parseMarkup(p.buttonStyle,h)},this),i}}function c(){if(this.config.eventCenter){var a=function(a){return function(b){h.call(a,b)}}(this);this.config.eventCenter.bind(SM.Events.BUTTON_CLICKED,a)}}function d(){var a,b=(this.config.template,this.config.styles||p.styles),c=this.config.minWidth||m,d=this.config.minHeight||n;this.sizeCategoryManager=SM.StyleCategoryManager.create({id:this.id+"_social",minWidth:c,minHeight:d}),this.sizeCategoryManager.init(this.sizeStyleStrings),a=SM.Tmpl.generate("sm_social",this.config),SM.Dom.addStyleCss(b),this.el=document.createElement("div"),this.el.setAttribute("id","sm_social_container_"+this.id),this.el.innerHTML=a,this.parentEl=this.config.parentId?document.getElementById(this.config.parentId):document.getElementsByTagName("body")[0],this.parentEl.appendChild(this.el),e.call(this),"desktop"===this.sizeCategoryManager.currentCategory?0===this.config.position?i.call(this,!0):"brandWrapper"===this.config.template&&j.call(this,!0):(i.call(this,!0),j.call(this,!1))}function e(){var a={fn:this.config.eventCenter.trigger,ctx:this.config.eventCenter};if(this.types=o.slice(0),SM.Utils.each(this.config.views,function(a){var b="sm_"+a.type,c=document.getElementById(b);"null"!==SM.Utils.toType(c)&&(a.el=c,this.types.push(a.type))},this),this.clickHandlers=SM.SocialClickHandlers.create(this.config.views,a),this.socialTray=document.getElementById("sm_social_tray_"+this.id),this.config.addIcon){var b=document.getElementById("sm_social_icon_"+this.id);if("null"!==SM.Utils.toType(b)){var c=function(a){return function(c){f.call(a,c,b)}}(this);SM.Dom.addListener(b,"click",c),this.isTrayVisible=!1,this.iconEl=b}}}function f(a,b){j.call(this,!this.isTrayVisible),g.call(this,{type:SM.Events.BUTTON_CLICKED,status:o[0]})}function g(a){this.config.eventCenter&&this.config.eventCenter.trigger(a)}function h(a){"desktop"!==this.sizeCategoryManager.currentCategory&&"playerHover"!==this.config.template&&this.isTrayVisible&&-1===SM.Utils.indexOf(this.types,a.status)&&j.call(this)}function i(a){this.iconEl.style.display=a?"block":"none"}function j(a){this.socialTray.style.display=a?"block":"none",this.isTrayVisible=a}var k={},l=6,m=415,n=737,o=(document.getElementsByTagName("head")[0],["socialIcon","facebookShared","facebookCancelled"]),p={styles:".sm_social_button_holder{width:100%;height:100%;position:relative;} #sm_facebookLike,#sm_facebookShare{background-color:#3b5998;} #sm_twitterFollow,#sm_twitterTweet{background-color:#55acee;} #sm_pinterestPin{background-color:#da0541;} #sm_youtubeFollow{background-color:#e52d27;} #sm_tumblrShare,#sm_tumblrFollow{background-color:#35465c;} #sm_instagramFollow{background-color:#3f729b;} #sm_print{background-color:#888888;} #sm_email{background-color:#505050;} [class^=social_btn]{display:inline-block;background-repeat:no-repeat;background-size:600% 600%;overflow:hidden;background-image:url(//cdn.selectablemedia.com/fr/c/img/sprites/social_spritesheet06a.png);cursor:pointer;} .facebookShare{background-position: 0 0;} .facebookShare:hover{background-position: 0 20%;} .facebookFollow{background-position: 20% 0;} .facebookFollow:hover{background-position: 20% 20%;} .twitterTweet{background-position: 40% 0;} .twitterTweet:hover{background-position: 40% 20%;} .twitterFollow{background-position: 60% 0;} .twitterFollow:hover{background-position: 60% 20%;} .pinterestPin{background-position: 80% 0;} .pinterestPin:hover{background-position: 80% 20%;} .instagramFollow{background-position: 100% 0;} .instagramFollow:hover{background-position: 100% 20%;} .tumblrShare{background-position: 0 40%;} .tumblrShare:hover{background-position: 0 60%;} .tumblrFollow{background-position: 20% 40%;} .tumblrFollow:hover{background-position: 20% 60%;} .youtubeFollow{background-position: 40% 40%;} .youtubeFollow:hover{background-position: 40% 60%;} .print{background-position: 60% 80%;} .print:hover{background-position: 60% 100%;} .email{background-position: 40% 80%;} .email:hover{background-position: 40% 100%;} .socialIcon{background-position: 100% 80%;} .socialIcon:hover{background-position: 100% 100%;}   [class^=social_btn]{}.social_btn{width:100%;height:100%;}  #sm_social_icon_~{id}~{width:~{width}~%;height:~{height}~%;left:~{left}~%;top:~{top}~%;position:absolute;cursor:pointer;display:none;} .sm_social_icon{background-position:100% 80%} .sm_social_icon:hover{background-position:100% 100%}",trayStyle:"#sm_social_tray_~{id}~{width:~{width}~%;height:~{height}~%;left:~{left}~%;top:~{top}~%;position:absolute;display:none;}",buttonStyle:".sm_social_btn_~{id}~{width:~{width}~%;height:~{height}~%;position:absolute;cursor:pointer;}",sizeStyleStrings:{portrait:"#sm_social_tray_~{id}~{width:6.25%;height:28.57142857142857%;left:2.083333333333333%;top:21.428571428571427%;position:absolute;display:none;} .sm_social_btn_~{id}~_0{left:0%;top:0%;} .sm_social_btn_~{id}~_1{left:0%;top:16.666666666666668%;} .sm_social_btn_~{id}~_2{left:0%;top:33.333333333333336%;} .sm_social_btn_~{id}~_3{left:0%;top:50%;} .sm_social_btn_~{id}~_4{left:0%;top:66.66666666666667%;} .sm_social_btn_~{id}~_5{left:0%;top:83.33333333333334%;} #sm_social_icon_~{id}~{width:6.25%;height:4.761904761904762%;left:2.083333333333333%;top:15.873015873015872%;position:absolute;cursor:pointer;display:none;}",landscape:{def:"#sm_social_tray_~{id}~{width:4.464285714285714%;height:44.11764705882353%;left:21.428571428571427%;top:39.705882352941174%;position:absolute;display:none;} .sm_social_btn_~{id}~_0{left:0%;top:0%;} .sm_social_btn_~{id}~_1{left:0%;top:16.666666666666668%;} .sm_social_btn_~{id}~_2{left:0%;top:33.333333333333336%;} .sm_social_btn_~{id}~_3{left:0%;top:50%;} .sm_social_btn_~{id}~_4{left:0%;top:66.66666666666667%;} .sm_social_btn_~{id}~_5{left:0%;top:83.33333333333334%;} #sm_social_icon_~{id}~{width:4.464285714285714%;height:7.352941176470589%;left:21.428571428571427%;top:29.411764705882355%;position:absolute;cursor:pointer;display:none;}",full:"#sm_social_tray_~{id}~{width:4.464285714285714%;height:44.11764705882353%;left:9.428571%;top:9%;position:absolute;display:none;} .sm_social_btn_~{id}~_0{left:0%;top:0%;} .sm_social_btn_~{id}~_1{left:0%;top:16.666666666666668%;} .sm_social_btn_~{id}~_2{left:0%;top:33.333333333333336%;} .sm_social_btn_~{id}~_3{left:0%;top:50%;} .sm_social_btn_~{id}~_4{left:0%;top:66.66666666666667%;} .sm_social_btn_~{id}~_5{left:0%;top:83.33333333333334%;} #sm_social_icon_~{id}~{width:4.464285714285714%;height:7.352941176470589%;left:9.428571%;top:1.411765%;position:absolute;cursor:pointer;display:none;}"},smallPlayer:["#sm_social_tray_~{id}~{width:3.571428571428571%;height:35.294117647058826%;left:22.321428571428573%;top:38.23529411764706%;position:absolute;display:none;} .sm_social_btn_~{id}~_0{left:0%;top:0%;} .sm_social_btn_~{id}~_1{left:0%;top:16.666666666666668%;} .sm_social_btn_~{id}~_2{left:0%;top:33.333333333333336%;} .sm_social_btn_~{id}~_3{left:0%;top:50%;} .sm_social_btn_~{id}~_4{left:0%;top:66.66666666666667%;} .sm_social_btn_~{id}~_5{left:0%;top:83.33333333333334%;} #sm_social_icon_~{id}~{width:3.571428571428571%;height:5.88235294117647%;left:22.321428571428573%;top:30.88235294117647%;position:absolute;cursor:pointer;display:none;}","#sm_social_tray_~{id}~{width:5.357142857142857%;height:52.94117647058824%;left:16.071428571428573%;top:29.411764705882355%;position:absolute;display:none;} .sm_social_btn_~{id}~_0{left:0%;top:0%;} .sm_social_btn_~{id}~_1{left:0%;top:16.666666666666668%;} .sm_social_btn_~{id}~_2{left:0%;top:33.333333333333336%;} .sm_social_btn_~{id}~_3{left:0%;top:50%;} .sm_social_btn_~{id}~_4{left:0%;top:66.66666666666667%;} .sm_social_btn_~{id}~_5{left:0%;top:83.33333333333334%;} #sm_social_icon_~{id}~{width:3.571428571428571%;height:5.88235294117647%;left:22.321428571428573%;top:30.88235294117647%;position:absolute;cursor:pointer;display:none;}","#sm_social_tray_~{id}~{width:5.357142857142857%;height:52.94117647058824%;left:78.57142857142857%;top:29.411764705882355%;position:absolute;display:none;} .sm_social_btn_~{id}~_0{left:0%;top:0%;} .sm_social_btn_~{id}~_1{left:0%;top:16.666666666666668%;} .sm_social_btn_~{id}~_2{left:0%;top:33.333333333333336%;} .sm_social_btn_~{id}~_3{left:0%;top:50%;} .sm_social_btn_~{id}~_4{left:0%;top:66.66666666666667%;} .sm_social_btn_~{id}~_5{left:0%;top:83.33333333333334%;} #sm_social_icon_~{id}~{width:3.571428571428571%;height:5.88235294117647%;left:22.321428571428573%;top:30.88235294117647%;position:absolute;cursor:pointer;display:none;}","#sm_social_tray_~{id}~{width: 5.357142857142857%;height: 52.94117647058824%;left: 16.071428571428573%;top: 29.411764705882355%;position: absolute;display: none}.sm_social_btn_~{id}~_5{left: 0%;top: 0%}.sm_social_btn_~{id}~_4{left: 0%;top: 16.666666666666668%}.sm_social_btn_~{id}~_3{left: 0%;top: 33.333333333333336%}.sm_social_btn_~{id}~_2{left: 0%;top: 50%}.sm_social_btn_~{id}~_1{left: 0%;top: 66.66666666666667%}.sm_social_btn_~{id}~_0{left: 0%;top: 83.33333333333334%}#sm_social_icon_~{id}~{width: 3.571428571428571%;height: 5.88235294117647%;left: 22.321428571428573%;top: 30.88235294117647%;position: absolute;cursor: pointer;display: none}","#sm_social_tray_~{id}~{width: 5.357142857142857%;height: 52.94117647058824%;left: 78.57142857142857%;top: 29.411764705882355%;position: absolute;display: none}.sm_social_btn_~{id}~_5{left: 0%;top: 0%}.sm_social_btn_~{id}~_4{left: 0%;top: 16.666666666666668%}.sm_social_btn_~{id}~_3{left: 0%;top: 33.333333333333336%}.sm_social_btn_~{id}~_2{left: 0%;top: 50%}.sm_social_btn_~{id}~_1{left: 0%;top: 66.66666666666667%}.sm_social_btn_~{id}~_0{left: 0%;top: 83.33333333333334%}#sm_social_icon_~{id}~{width: 3.571428571428571%;height: 5.88235294117647%;left: 22.321428571428573%;top: 30.88235294117647%;position: absolute;cursor: pointer;display: none}","#sm_social_tray_~{id}~{width:32.142857142857146%;height:8.823529411764707%;left:21.428571428571427%;top:82.35294117647058%;position:absolute;display:none;} .sm_social_btn_~{id}~_0{left:0%;top:0%;} .sm_social_btn_~{id}~_1{left:16.666666666666668%;top:0%;} .sm_social_btn_~{id}~_2{left:33.333333333333336%;top:0%;} .sm_social_btn_~{id}~_3{left:50%;top:0%;} .sm_social_btn_~{id}~_4{left:66.66666666666667%;top:0%;} .sm_social_btn_~{id}~_5{left:83.33333333333334%;top:0%;} #sm_social_icon_~{id}~{width:3.571428571428571%;height:5.88235294117647%;left:22.321428571428573%;top:30.88235294117647%;position:absolute;cursor:pointer;display:none;}","#sm_social_tray_~{id}~{width:32.142857142857146%;height:8.823529411764707%;left:46.42857142857143%;top:82.35294117647058%;position:absolute;display:none;} .sm_social_btn_~{id}~_5{left:0%;top:0%;} .sm_social_btn_~{id}~_4{left:16.666666666666668%;top:0%;} .sm_social_btn_~{id}~_3{left:33.333333333333336%;top:0%;} .sm_social_btn_~{id}~_2{left:50%;top:0%;} .sm_social_btn_~{id}~_1{left:66.66666666666667%;top:0%;}.sm_social_btn_~{id}~_0{left:83.33333333333334%;top:0%;}#sm_social_icon_~{id}~{width:3.571428571428571%;height:5.88235294117647%;left:22.321428571428573%;top:30.88235294117647%;position:absolute;cursor:pointer;display:none;}"],largePlayer:["#sm_social_tray_~{id}~{width:4.464285714285714%;height:44.11764705882353%;left:15.178571428571427%;top:44.11764705882353%;position:absolute;display:none;} .sm_social_btn_~{id}~_0{left:0%;top:0%;} .sm_social_btn_~{id}~_1{left:0%;top:16.666666666666668%;} .sm_social_btn_~{id}~_2{left:0%;top:33.333333333333336%;} .sm_social_btn_~{id}~_3{left:0%;top:50%;} .sm_social_btn_~{id}~_4{left:0%;top:66.66666666666667%;} .sm_social_btn_~{id}~_5{left:0%;top:83.33333333333334%;} #sm_social_icon_~{id}~{width:4.464285714285714%;height:7.352941176470589%;left:15.178571428571427%;top:35.294117647058826%;position:absolute;cursor:pointer;display:none;}","#sm_social_tray_~{id}~{width:5.357142857142857%;height:52.94117647058824%;left:8.928571428571429%;top:33.82352941176471%;position:absolute;display:none;} .sm_social_btn_~{id}~_0{left:0%;top:0%;} .sm_social_btn_~{id}~_1{left:0%;top:16.666666666666668%;} .sm_social_btn_~{id}~_2{left:0%;top:33.333333333333336%;} .sm_social_btn_~{id}~_3{left:0%;top:50%;} .sm_social_btn_~{id}~_4{left:0%;top:66.66666666666667%;} .sm_social_btn_~{id}~_5{left:0%;top:83.33333333333334%;} #sm_social_icon_~{id}~{width:4.464285714285714%;height:7.352941176470589%;left:15.178571428571427%;top:35.294117647058826%;position:absolute;cursor:pointer;display:none;}","#sm_social_tray_~{id}~{width:5.357142857142857%;height:52.94117647058824%;left:85.71428571428571%;top:33.82352941176471%;position:absolute;display:none;} .sm_social_btn_~{id}~_0{left:0%;top:0%;} .sm_social_btn_~{id}~_1{left:0%;top:16.666666666666668%;} .sm_social_btn_~{id}~_2{left:0%;top:33.333333333333336%;} .sm_social_btn_~{id}~_3{left:0%;top:50%;} .sm_social_btn_~{id}~_4{left:0%;top:66.66666666666667%;} .sm_social_btn_~{id}~_5{left:0%;top:83.33333333333334%;} #sm_social_icon_~{id}~{width:4.464285714285714%;height:7.352941176470589%;left:15.178571428571427%;top:35.294117647058826%;position:absolute;cursor:pointer;display:none;}","#sm_social_tray_~{id}~{width:5.357142857142857%;height:52.94117647058824%;left:8.928571428571429%;top:47.05882352941176%;position:absolute;display:none;} .sm_social_btn_~{id}~_5{left:0%;top:0%;} .sm_social_btn_~{id}~_4{left:0%;top:16.666666666666668%;} .sm_social_btn_~{id}~_3{left:0%;top:33.333333333333336%;} .sm_social_btn_~{id}~_2{left:0%;top:50%;} .sm_social_btn_~{id}~_1{left:0%;top:66.66666666666667%;} .sm_social_btn_~{id}~_0{left:0%;top:83.33333333333334%;}#sm_social_icon_~{id}~{width:4.464285714285714%;height:7.352941176470589%;left:15.178571428571427%;top:35.294117647058826%;position:absolute;cursor:pointer;display:none;}","#sm_social_tray_~{id}~{width:5.357142857142857%;height:52.94117647058824%;left:85.71428571428571%;top:47.05882352941176%;position:absolute;display:none;} .sm_social_btn_~{id}~_5{left:0%;top:0%;} .sm_social_btn_~{id}~_4{left:0%;top:16.666666666666668%;} .sm_social_btn_~{id}~_3{left:0%;top:33.333333333333336%;} .sm_social_btn_~{id}~_2{left:0%;top:50%;} .sm_social_btn_~{id}~_1{left:0%;top:66.66666666666667%;} .sm_social_btn_~{id}~_0{left:0%;top:83.33333333333334%;} #sm_social_icon_~{id}~{width:4.464285714285714%;height:7.352941176470589%;left:15.178571428571427%;top:35.294117647058826%;position:absolute;cursor:pointer;display:none;}"],fullPlayer:["#sm_social_tray_~{id}~{width:5.357142857142857%;height:44.11764705882353%;left:0%;top:11.764705882352942%;position:absolute;display:none;} .sm_social_btn_~{id}~_0{left:0%;top:0%;} .sm_social_btn_~{id}~_1{left:0%;top:16.666666666666668%;} .sm_social_btn_~{id}~_2{left:0%;top:33.333333333333336%;} .sm_social_btn_~{id}~_3{left:0%;top:50%;} .sm_social_btn_~{id}~_4{left:0%;top:66.66666666666667%;} .sm_social_btn_~{id}~_5{left:0%;top:83.33333333333334%;} #sm_social_icon_~{id}~{width:4.464285714285714%;height:7.352941176470589%;left:0%;top:11.764705882352942%;position:absolute;cursor:pointer;display:none;}","#sm_social_tray_~{id}~{width:5.357142857142857%;height:52.94117647058824%;left:0%;top:11.764705882352942%;position:absolute;display:none;} .sm_social_btn_~{id}~_0{left:0%;top:0%;} .sm_social_btn_~{id}~_1{left:0%;top:16.666666666666668%;} .sm_social_btn_~{id}~_2{left:0%;top:33.333333333333336%;} .sm_social_btn_~{id}~_3{left:0%;top:50%;} .sm_social_btn_~{id}~_4{left:0%;top:66.66666666666667%;} .sm_social_btn_~{id}~_5{left:0%;top:83.33333333333334%;} #sm_social_icon_~{id}~{width:4.464285714285714%;height:7.352941176470589%;left:0%;top:11.764705882352942%;position:absolute;cursor:pointer;display:none;}","#sm_social_tray_~{id}~{width:5.357142857142857%;height:52.94117647058824%;left:94.714286%;top:11.764705882352942%;position:absolute;display:none;} .sm_social_btn_~{id}~_0{left:0%;top:0%;} .sm_social_btn_~{id}~_1{left:0%;top:16.666666666666668%;} .sm_social_btn_~{id}~_2{left:0%;top:33.333333333333336%;} .sm_social_btn_~{id}~_3{left:0%;top:50%;} .sm_social_btn_~{id}~_4{left:0%;top:66.66666666666667%;} .sm_social_btn_~{id}~_5{left:0%;top:83.33333333333334%;} #sm_social_icon_~{id}~{width:4.464285714285714%;height:7.352941176470589%;left:0%;top:11.764705882352942%;position:absolute;cursor:pointer;display:none;}","#sm_social_tray_~{id}~{width:5.357142857142857%;height:52.94117647058824%;left:0%;top:47.05882352941176%;position:absolute;display:none;} .sm_social_btn_~{id}~_0{left:0%;top:0%;} .sm_social_btn_~{id}~_1{left:0%;top:16.666666666666668%;} .sm_social_btn_~{id}~_2{left:0%;top:33.333333333333336%;} .sm_social_btn_~{id}~_3{left:0%;top:50%;} .sm_social_btn_~{id}~_4{left:0%;top:66.66666666666667%;} .sm_social_btn_~{id}~_5{left:0%;top:83.33333333333334%;} #sm_social_icon_~{id}~{width:4.464285714285714%;height:7.352941176470589%;left:0%;top:11.764705882352942%;position:absolute;cursor:pointer;display:none;}","#sm_social_tray_~{id}~{width:5.357142857142857%;height:52.94117647058824%;left:94.714286%;top:47.05882352941176%;position:absolute;display:none;} .sm_social_btn_~{id}~_0{left:0%;top:0%;} .sm_social_btn_~{id}~_1{left:0%;top:16.666666666666668%;} .sm_social_btn_~{id}~_2{left:0%;top:33.333333333333336%;} .sm_social_btn_~{id}~_3{left:0%;top:50%;} .sm_social_btn_~{id}~_4{left:0%;top:66.66666666666667%;} .sm_social_btn_~{id}~_5{left:0%;top:83.33333333333334%;} #sm_social_icon_~{id}~{width:4.464285714285714%;height:7.352941176470589%;left:0%;top:11.764705882352942%;position:absolute;cursor:pointer;display:none;}"]},iconPadding:2,trayButtonSizeMultiplier:6.5,aspectRatios:{player:[64,36],brandWrapper:[112,68],portrait:[96,126],landscape:[118,72]},sizeCategories:["desktop","landscape","portrait"]};return a.prototype.init=function(){d.call(this),SM.LayoutUpdater.registerObject(this)},a.prototype.layout=function(){this.sizeCategoryManager&&(this.sizeCategoryManager.resize(),this.config.position>0&&("desktop"===this.sizeCategoryManager.currentCategory?(i.call(this,!1),j.call(this,!0)):(i.call(this,!0),j.call(this,!1))))},k.create=function(b){return new a(b)},k}(),SM.Rewarder=function(){"use strict";function a(a,b){this.id=a,this.config=b,this.config.triggers=this.config.triggers||h,this.config.requestTimeout=this.config.requestTimeout||f,this.timer=SM.Timer.create(),this.state=g.PING_ONE,SM.Utils.each(b.triggers,function(a,c){b.eventCenter.bind(a,this.onTriggerCallback.bind(this));
},this)}function b(){var a=this.config.url;return a+=this.config.url.indexOf("?")>-1?"&":"?",a+="aid="+this.id+"&p="+this.state}function c(a){if(this.id&&a.crid&&this.id===a.crid){var c,e="";switch(this.state){case g.PING_ONE:e=b.call(this);break;case g.PING_TWO:e=b.call(this),e+="&t="+this.token;break;default:smwarn("controller not active: "+this.state)}""!==e&&(c=function(a){return function(b){d.call(a,b)}}(this),SM.JsLoader.jsonp(e,this.state,c,null,null,this,1500,"sm_cb"),this.timer.start(this.config.requestTimeout,this.onTimeout.bind(this),{},this),this.config.eventCenter.unbind(this.config.triggers[this.state],this.onTriggerCallback))}}function d(a){SM.VeApp.log("SM.Rewarder.Controller["+this.id+"]/_onPingResponse, response = ",a),this.timer.stop(),a.success?this.state===g.PING_ONE?a.token?(this.state=g.PING_TWO,this.token=a.token,this.pingid=a.pingid):this.onError("missing token"):this.state===g.PING_TWO?(this.state=g.COMPLETED,this.config.eventCenter.trigger({type:e.events.REWARD_COMPLETED,success:!0,crid:this.id})):this.onError("unknown reward error"):this.onError(a.message)}var e={},f=5e3,g={PING_ONE:1,PING_TWO:2,COMPLETE:3,ERROR:0},h=[SM.Events.AD_STARTED,SM.Events.AD_COMPLETED],i={};return e.events={REWARD_COMPLETED:"rewardCompleted"},a.prototype.onTriggerCallback=function(a){c.call(this,a)},a.prototype.onError=function(a){SM.VeApp.log("SM.Reward.Controller/onError, message = "+a),this.state=g.ERROR,this.config.eventCenter.trigger({type:e.events.REWARD_COMPLETED,status:SM.Errors.REWARDING_APP_ERROR,success:!1,crid:this.id,message:a})},a.prototype.onTimeout=function(){this.timer.stop(),this.state=g.ERROR,this.config.eventCenter.trigger({type:e.events.REWARD_COMPLETED,status:SM.Errors.REWARDING_APP_TIMEOUT,success:!1,crid:this.id})},e.init=function(a){},e.create=function(b,c){!i.hasOwnProperty(b)&&c.eventCenter&&(i[b]=new a(b,c))},e.getState=function(a){return i.hasOwnProperty(a)?i[a].state:void 0},e}(),SM.GridStyleInitializer=function(){"use strict";var a={},b=500,c=900;return a.createStyleElManager=function(d,e,f,g,h,i){var j,k=d.minWidth||b,l=d.minHeight||c,m={};SM.VeApp.log("grid style initiailizer, config = ",d);var n=SM.StyleCategoryManager.create({id:e,minWidth:k,minHeight:l});return SM.Utils.each(f,function(b,c){j=c+e;var f=100/b.aspectRatio[0],k=100/b.aspectRatio[1];m[j]=[],m[j].push(g[c]),SM.Utils.each(d.views,function(a,e){var g=h.call(i,a,e,f,k,b,c,d,i);m[j].push(g)},a),m[j]=m[j].join(" ")},a),n.init(m),n},a}(),SM.ClickHandlers=SM.ClickHandlers||function(){"use strict";var a={};return a.init=function(b,c,d,e,f){var g=SM.Dom.getElementsByClassName(b,c);if(g.length>0){var h={};SM.Utils.each(e,function(a){h[a.id]=a},a),SM.Utils.each(g,function(b,c){var e=SM.DataAttributes.parseFromAttributes(b),g=h[b.id],i=null;if(g&&g.click)i=moduleConfig.items[e.idx].click;else if(d[e.clickType]){i=SM.Utils.clone(d[e.clickType]);var j=i.fnName;i.fn=function(a){return function(b){a[j].call(a,b)}}(f),i.ctx=f,i.params=e,g&&g.clickParams&&(i.params=SM.Utils.extend(i.params,g.clickParams))}i&&a.addClickListener(b,i)},a)}},a.addClickListener=function(b,c){SM.Dom.addListener(b,"click",function(a){return function(a){c.fn.call(c.ctx,c.params)}}(a))},a.removeClickListener=function(a,b){SM.Dom.removeListener(a,"click",b)},a}(),SM.Injector=SM.Injector||function(){"use strict";function a(a){this.injections=a}var b={},c={};return a.prototype.parse=function(a,b){return SM.Utils.each(this.injections,function(b){var c=b.path,d=b.value,e=b.key;switch(b.type){case"add":SM.Traverser.addValueToPath(a,c,d,e);break;case"replace":SM.Traverser.replaceValueInPath(a,c,d);break;case"remove":SM.Traverser.removeValueFromPath(a,c,d);break;default:smwarn("SM.Injector.Controller/parse, unknown injections.type: "+b.type)}},this),a},b.create=function(d,e){var f={};return c[d]={},SM.Utils.each(e,function(a){var b=a.target;f.hasOwnProperty(b)||(f[b]=[]),f[b].push(a)},b),SM.Utils.each(f,function(b,e){c[d][e]=new a(b)},b),c[d]},b.parse=function(a,b,d){return c.hasOwnProperty(a)&&c[a].hasOwnProperty(d)?c[a][d].parse(b,d):b},b}(),function(){SM.Tmpl.registerTemplate("smScreen",{"#sm_screen_~{id}~.sm_screen.abs_pos":{"each(views)":{"template(~{current.type}~)":"current"}}}),SM.Tmpl.registerTemplate("sm_image",{"#~{id}~.sm_image_div.~{className}~.abs_pos":{attrs:{alt:"~{alt}~"}}}),SM.Tmpl.registerTemplate("sm_iframe",{"iframe#~{id}~.sm_iframe.abs_pos":{attrs:{src:"~{url}~#"+window.location.href,scrolling:"no",frameBorder:"0",marginWidth:"0",marginHeight:"0",width:"100%",height:"100%"}}}),SM.Tmpl.registerTemplate("sm_click_area",{"#~{id}~.sm_click_area_~{id}~.sm_click_area.abs_pos":{attrs:{title:"~{alt}~","data-idx":"~{idx}~","data-status":"~{id}~","data-click-type":"clickArea",tabindex:"0",role:"button"}}})}(),SM.Screen=SM.Screen||function(){"use strict";function a(a,b){this.id=b,this.config=a,this.config.id=b}var b={},c="SmScreen",d="//cdn.selectablemedia.com/",e="",f=".sm_screen{width:100%;height:100%;position:absolute;overflow:hidden;} .abs_pos{position:absolute;} .sm_click_area{cursor:pointer;}",g={desktop:".sm_l_text_xl{font-size:2.25em;} .sm_l_text_lg{font-size:1.5em;} .sm_l_text_md{font-size:1.25em;} .sm_l_text_sm{font-size:1em;}",portrait:".sm_l_text_xl{font-size:1.15em;} .sm_l_text_lg{font-size:1.1em;} .sm_l_text_md{font-size:.75em;} .sm_l_text_sm{font-size:0.66em;}",landscape:".sm_l_text_xl{font-size:1.15em;} .sm_l_text_lg{font-size:0.85em;} .sm_l_text_md{font-size:0.66em;} .sm_l_text_sm{font-size:0.5em;}"},h={smImage:"#~{id}~ {width:~{width}~%;height:~{height}~%;left:~{left}~%;top:~{top}~%;background-image:url(~{assetPath}~~{size}~/~{url}~);filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(url='~{assetPath}~~{size}~/~{url}~',sizingMethod='scale');background-size:100% 100%;background-repeat:no-repeat;background-position:center;}",smIframe:"#~{id}~ {width:~{width}~%;height:~{height}~%;left:~{left}~%;top:~{top}~%;}",smClickArea:"#~{id}~ {width:~{width}~%;height:~{height}~%;left:~{left}~%;top:~{top}~%}"},i={desktop:{aspectRatio:[56,34],aspectPercentage:56/34},landscape:{aspectRatio:[59,36],aspectPercentage:59/36},portrait:{aspectRatio:[32,42],aspectPercentage:32/42}},j={desktop:"dt",landscape:"pl",portrait:"pp"},k={clickArea:{fnName:"onItemClicked",params:{}}};return b.events={SIZE_CATEGORY_CHANGED:"sizeCategoryChanged",SCREEN_IMPRESSION:"screenImpression",SCREEN_VIEWED:"screenViewed"},a.prototype.init=function(){var a,b=(new Date).getTime();this.callback=this.config.callback||function(){},this.config.protocol=this.config.protocol||SM.Protocolizer.getProtocol(),this.config.cdnRoot=SM.Protocolizer.protocolize(this.config.cdnRoot)||this.config.protocol+d,this.config.assetPath=SM.Protocolizer.protocolize(this.config.assetPath)||e,this.styleElManager=SM.GridStyleInitializer.createStyleElManager(this.config,this.id,i,g,this.generateViewGridStyle,this),this.moduleStyle=SM.Dom.addStyleCss(f,this.id+c),this.parentEl=this.config.parentId?document.getElementById(this.config.parentId):document.getElementsByTagName("body")[0],this.parentEl=this.parentEl||this.config.rootEl.querySelector("#"+this.config.parentId)||document.getElementsByTagName("body")[0],this.parentEl.innerHTML=SM.Tmpl.generate("smScreen",this.config),this.moduleEl=document.getElementById("sm_screen_"+this.config.id),SM.Utils.each(this.config.views,function(a,b){a.hasOwnProperty("url")&&(a.url=SM.Protocolizer.protocolize(a.url)),this.config.views[b]=a},this),SM.ClickHandlers.init("sm_click_area",this.parentEl,k,this.config.views,this),this.initIframes(),SM.LayoutUpdater.registerObject(this),a=(new Date).getTime(),SM.VeApp.log("screen["+this.id+"] built:\n"+a+"\n"+b+"\nms: "+(a-b))},a.prototype.initIframes=function(){this.iframes=[],SM.Utils.each(this.config.views,function(a,b){if("sm_iframe"===a.type){var c=document.getElementById(a.id)||this.config.rootEl.querySelector("#"+a.id);this.iframes.push(this.initIframe(c,b))}},this)},a.prototype.initIframe=function(a,b){var c=a.contentWindow||a.contentDocument,d=a.getAttribute("src"),e=d.replace(/([^:]+:\/\/[^\/]+).*/,"$1");return SM.CrossDomain.addRecipient({callback:this.crossdomainCallback,context:this,origin:e}),{el:a,target:c,src:d,origin:e}},a.prototype.sendMessage=function(a){SM.Utils.each(this.iframes,function(b){b.src&&SM.CrossDomain.sendObject(a,b.src,b.target)},this)},a.prototype.crossdomainCallback=function(a){var c,d=!1;try{c=JSON.parse(a.data)}catch(e){c={}}SM.Utils.each(this.iframes,function(a){c.key===a.src&&(c.key&&delete c.key,c=SM.Utils.extend(c,this.params),c.type===SM.Events.SM_READY?d=!0:(this.config.eventCenter.trigger(c),c.type===SM.Events.AUTH_EVENT&&c.status===!0&&this.config.eventCenter.trigger({type:SM.Events.BEHAVIOR_CLOSED})))},this),d&&this.sendMessage({type:b.events.SIZE_CATEGORY_CHANGED,status:this.styleElManager.currentCategory})},a.prototype.onItemClicked=function(a){a.type=a.type||SM.InternalEvents.SWITCH_SCREEN,this.callback.call(b,a,this)},a.prototype.generateViewGridStyle=function(a,b,c,d,e,f,g){var i,k="",l=a.type.replace(/(_.)/g,function(a){return a[1].toUpperCase()});if(a.idx=b,h[l]&&a.area){if("string"==typeof a.area){if("full"===a.area){var m=e.aspectRatio,n=[0,0,m[0],m[1]];i=SM.Grid.generate(c,d,n)}}else i=SM.Grid.generate(c,d,a.area[f]);i&&(i.name=g.name,i.size=j[f],i.idx=b,i.cdnRoot=this.config.cdnRoot,i.assetPath=SM.Protocolizer.protocolize(this.config.assetPath),i=SM.Utils.extend(i,a),k=SM.Utils.parseMarkup(h[l],i))}return k},a.prototype.layout=function(){this.styleElManager.resize(),this.styleElManager.isCategoryChanged&&this.sendMessage({type:b.events.SIZE_CATEGORY_CHANGED,status:this.styleElManager.currentCategory})},a.prototype.destroy=function(){SM.LayoutUpdater.unregisterObject(this)},b.Controller=a,b.create=function(b,c){return new a(b,c)},b}(),function(){SM.Tmpl.registerTemplate("smNotification",{"#sm_notification_~{id}~.sm_notification.sm_screen.abs_pos":{"#sm_nofitication_bg_~{id}~.sm_notification_bg":"","if(image)":{"#sm_notification_image_~{id}~.sm_notification_image":""},"if(title)":{"#sm_notification_title_~{id}~.sm_notification_title.sm_notification_text":"~{title}~"},"if(message)":{"#sm_notification_message_~{id}~.sm_notification_message.sm_notification_text":"~{message}~"}}})}(),SM.Notification=SM.Notification||function(){"use strict";function a(a,b){this.config=a,this.id=this.config.id=b,this.timer=SM.Timer.create()}var b={},c=1e4,d=5,e=100,f={style:".sm_notification{width:100%;height:100%;display:none;} .sm_notification_image{background:url(~{image}~) no-repeat center;background-size:contain; width:100%;height:100%;position:absolute;z-index:1;} .sm_notification_bg{background-color:#000000;width:100%;height:100%;position:absolute;}  .sm_notification_title{color:#ffffff;font-family:Helvetica;font-size:2em;} .sm_notification_message{color:#ffffff;font-family:Helvetica;font-size:1.5em;position:relative;top:50%;transform:translateY(-50%);} .sm_notification_text{text-align:center;padding:2%;z-index:2;}"};return a.prototype.init=function(){var a,b=(new Date).getTime(),c=SM.Utils.parseMarkup(f.style+this.config.style,this.config);this.parentEl=this.config.parentId?document.getElementById(this.config.parentId):document.getElementsByTagName("body")[0],this.parentEl.innerHTML=SM.Tmpl.generate("smNotification",this.config),this.moduleEl=document.getElementById("sm_notification_"+this.config.id),SM.Dom.addStyleCss(c),a=(new Date).getTime(),this.show(),SM.VeApp.log("notification["+this.id+"] built:\n"+a+"\n"+b+"\nms: "+(a-b))},a.prototype.layout=function(){this.show()},a.prototype.show=function(){var a={ctx:this,finished:this.startFade},b=function(a,b){a.stop(),SM.Timer.remove(a.id),b.finished.call(b.ctx)},d=SM.Timer.create();this.moduleEl.style.display="block",this.moduleEl.style.opacity=1,d.start(c,b,a,this)},a.prototype.startFade=function(){var a={count:0,max:e,ctx:this,el:this.moduleEl,finished:this.hide},b=function(a,b){b.count++,b.el.style.opacity-=.01,b.count>=b.max&&(a.stop(),b.finished.call(b.ctx))},c=SM.Timer.create();c.loop(d,b,a,this)},a.prototype.hide=function(){this.moduleEl.style.display="none",this.moduleEl.style.opacity=0,this.config.eventCenter.trigger({type:SM.Events.NOTIFICATION_COMPLETED})},b.Controller=a,b.create=function(b,c){return new a(b,c)},b}(),function(){SM.Tmpl.registerTemplate("selector",{"#sm_selector.sm_selector.abs_pos.selector":{"each(views)":{"template(~{current.type}~)":"current"}}}),SM.Tmpl.registerTemplate("selector_bg",{"#sm_selector_bg.selector_bg.abs_pos":{attrs:{style:"~{style}~"}}}),SM.Tmpl.registerTemplate("selector_title",{"#sm_selector_title_bg.selector_title_bg.sm_selector_title_bg.sm_font.abs_pos":{attrs:{style:"~{style}~"},"span#sm_selector_title.selector_title.sm_selector_title.sm_s_text_xl.abs_pos":"~{text}~"}}),SM.Tmpl.registerTemplate("selector_item",{"#sm_selector_item~{idx}~.sm_selector_item":{"#sm_item_bg~{idx}~.sm_item_bg_~{idx}~.sm_item_bg.abs_pos":"","#sm_item_thumbnail~{idx}~.sm_item_thumbnail_~{idx}~.sm_item_thumbnail.abs_pos":{attrs:{title:"~{alt}~"}},"#sm_item_title_and_description~{idx}~.sm_item_title_and_description_~{idx}~.sm_item_title_and_description.abs_pos":{"#sm_item_title~{idx}~.sm_item_title~{idx}~.sm_item_title.sm_s_text_lg.sm_font":"~{title}~","#sm_item_description~{idx}~.sm_item_description~{idx}~.sm_item_description.sm_s_text_md.sm_font":"~{description}~"},"#sm_item_info~{idx}~.sm_item_info_~{idx}~.sm_item_info.abs_pos":{"span#sm_item_info_text~{idx}~.sm_item_info_text_~{idx}~.sm_item_info_text.sm_s_text_lg.sm_font.abs_pos":"~{info}~"},"#sm_item_play_icon~{idx}~.sm_item_play_icon_~{idx}~.sm_item_play_icon.abs_pos":"","#sm_item_click_area~{idx}~.sm_item_click_area_~{idx}~.sm_click_area.abs_pos":{attrs:{"data-idx":"~{idx}~","data-click-type":"item","data-value":"~{id}~",tabindex:"0",role:"button"}}}})}(),SM.Selector=SM.Selector||function(){"use strict";function a(a,b){this.config=a,this.id=b,this.selectorItemIndices=[]}var b={},c="SmSelector",d="//cdn.selectablemedia.com/",e="bt/c/",f="img/sprites/selector_play_icon.png",g='.sm_selector{width:100%;height:100%;overflow:hidden;}.sm_font{font-family:Helvetica;} .selector_title{padding-top:2%;width:100%;text-align:center;} .sm_selector_item {text-align: left;line-height: initial;} .sm_item_bg{} .sm_item_thumbnail{background-size:contain;background-repeat:no-repeat;} .sm_item_title{overflow-wrap: break-word;color:#fff;font-weight:bold;} .sm_item_description{color:#fff;} .sm_item_info{color:#fff;bottom:0;} .sm_item_play_icon{background-size:200% 100%; background-position:0 0; background-repeat:no-repeat;} .sm_click_area{cursor:pointer;} .abs_pos{position:absolute;}.deactivated{-ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=33)"; filter: alpha(opacity=33); -moz-opacity: 0.33; -khtml-opacity:0.33;opacity:0.33; }',h={desktop:".sm_s_text_xl{font-size:1.5em;} .sm_s_text_lg{font-size:1em;} .sm_s_text_md{font-size:0.75em;} .sm_s_text_sm{font-size:0.66em;} .sm_item_title_and_description{padding-top:1%;} .sm_item_title{width:100%;height:30%;margin-top:-2%;} .sm_item_description {width:100%;height70%;top:30%;padding-top:10%;} @media all and (min-width: 900px){ .sm_s_text_xl{font-size:2em;} .sm_s_text_lg{font-size:1.25em;} .sm_s_text_md{font-size:1em;} .sm_s_text_sm{font-size:0.75em;} } @media all and (max-height: 575px) { .sm_s_text_xl{font-size:1.75em;} .sm_s_text_lg{font-size: 1.25em;} .sm_s_text_md{font-size: 0.75em;} .sm_s_text_sm{font-size:0.66em;} } @media all and (max-height: 450px) { .sm_s_text_xl{font-size:1.5em;} .sm_s_text_lg{font-size: 1em;} .sm_s_text_md{font-size: 0.66em;} .sm_s_text_sm{font-size:0.5em;} }",portrait:".sm_s_text_xl{font-size:1.15em;} .sm_s_text_lg{font-size:1.1em;} .sm_s_text_md{font-size:0.75em;} .sm_s_text_sm{font-size:0.66em;} .sm_item_title_and_description{padding-top:2%;} .sm_item_description{width:80%;padding-top:1%;}",landscape:".sm_s_text_xl{font-size:1.15em;} .sm_s_text_lg{font-size:0.85em;} .sm_s_text_md{font-size:0.66em;} .sm_s_text_sm{font-size:0.5em;} .sm_item_title_and_description{padding-top:0.1%;} .sm_item_description{padding-top:1%;}"},i={selectorBg:".selector_bg {background:#333;}",selectorTitle:".selector_title_bg {~{style}~}",selectorItem:".sm_item_bg_~{idx}~ {background:#000;}.sm_item_thumbnail_~{idx}~ {background-image:url(~{thumbnail}~);}.sm_item_play_icon_~{idx}~ {background-image:url(~{cdnRoot}~~{playIconUrl}~);}"},j={desktop:{aspectRatio:[112,68],aspectPercentage:112/68,views:{},styles:" .sm_selector_bg {width:100%;height:88.23529411764707%;left:0%;top:11.764705882352942%; position: absolute;} .sm_selector_title_bg {width:100%;height:8.823529411764707%;left:0%;top:11.764705882352942%; position: absolute;} .sm_item_bg_0 {width:28.571428571428573%;height:73.52941176470588%;left:3.5714285714285716%;top:23.529411764705884%; position: absolute;} .sm_item_thumbnail_0 {width:28.571428571428573%;height:47.05882352941177%;left:3.5714285714285716%;top:23.529411764705884%; position: absolute;} .sm_item_title_and_description_0 {width:25.892857142857146%;height:14.705882352941178%;left:4.464285714285714%;top:70.58823529411765%; position: absolute;} .sm_item_info_0 {width:22.321428571428573%;height:4.411764705882353%;left:4.464285714285714%;top:91.1764705882353%; position: absolute;} .sm_item_play_icon_0 {width:5.357142857142858%;height:8.823529411764707%;left:26.78571428571429%;top:88.23529411764707%; position: absolute;} .sm_item_click_area_0 {width:28.571428571428573%;height:73.52941176470588%;left:3.5714285714285716%;top:23.529411764705884%; position: absolute;} .sm_item_bg_1 {width:28.571428571428573%;height:73.52941176470588%;left:35.714285714285715%;top:23.529411764705884%; position: absolute;} .sm_item_thumbnail_1 {width:28.571428571428573%;height:47.05882352941177%;left:35.714285714285715%;top:23.529411764705884%; position: absolute;} .sm_item_title_and_description_1 {width:25.892857142857146%;height:14.705882352941178%;left:36.60714285714286%;top:70.58823529411765%; position: absolute;} .sm_item_info_1 {width:22.321428571428573%;height:4.411764705882353%;left:36.60714285714286%;top:91.1764705882353%; position: absolute;} .sm_item_play_icon_1 {width:5.357142857142858%;height:8.823529411764707%;left:58.92857142857143%;top:88.23529411764707%; position: absolute;} .sm_item_click_area_1 {width:28.571428571428573%;height:73.52941176470588%;left:35.714285714285715%;top:23.529411764705884%; position: absolute;} .sm_item_bg_2 {width:28.571428571428573%;height:73.52941176470588%;left:67.85714285714286%;top:23.529411764705884%; position: absolute;} .sm_item_thumbnail_2 {width:28.571428571428573%;height:47.05882352941177%;left:67.85714285714286%;top:23.529411764705884%; position: absolute;} .sm_item_title_and_description_2 {width:25.892857142857146%;height:14.705882352941178%;left:68.75%;top:70.58823529411765%; position: absolute;} .sm_item_info_2 {width:22.321428571428573%;height:4.411764705882353%;left:68.75%;top:91.1764705882353%; position: absolute;} .sm_item_play_icon_2 {width:5.357142857142858%;height:8.823529411764707%;left:91.07142857142857%;top:88.23529411764707%; position: absolute;} .sm_item_click_area_2 {width:28.571428571428573%;height:73.52941176470588%;left:67.85714285714286%;top:23.529411764705884%; position: absolute;}  "},landscape:{aspectRatio:[59,36],aspectPercentage:59/36,views:{},styles:" .sm_selector_bg {width:91.52542372881355%;height:100%;left:8.47457627118644%;top:0%; position: absolute;} .sm_selector_title_bg {width:91.52542372881355%;height:11.11111111111111%;left:8.47457627118644%;top:0%; position: absolute;} .sm_item_bg_0 {width:27.11864406779661%;height:86.11111111111111%;left:11.864406779661017%;top:11.11111111111111%; position: absolute;} .sm_item_thumbnail_0 {width:27.11864406779661%;height:44.44444444444444%;left:11.864406779661017%;top:11.11111111111111%; position: absolute;} .sm_item_title_and_description_0 {width:23.728813559322035%;height:19.444444444444443%;left:13.559322033898304%;top:58.33333333333333%; position: absolute;} .sm_item_info_0 {width:16.94915254237288%;height:5.555555555555555%;left:13.559322033898304%;top:91.66666666666666%; position: absolute;} .sm_item_play_icon_0 {width:6.779661016949152%;height:11.11111111111111%;left:32.20338983050847%;top:86.11111111111111%; position: absolute;} .sm_item_click_area_0 {width:27.11864406779661%;height:86.11111111111111%;left:11.864406779661017%;top:11.11111111111111%; position: absolute;} .sm_item_bg_1 {width:27.11864406779661%;height:86.11111111111111%;left:40.67796610169491%;top:11.11111111111111%; position: absolute;} .sm_item_thumbnail_1 {width:27.11864406779661%;height:44.44444444444444%;left:40.67796610169491%;top:11.11111111111111%; position: absolute;} .sm_item_title_and_description_1 {width:23.728813559322035%;height:19.444444444444443%;left:42.3728813559322%;top:58.33333333333333%; position: absolute;} .sm_item_info_1 {width:16.94915254237288%;height:5.555555555555555%;left:42.3728813559322%;top:91.66666666666666%; position: absolute;} .sm_item_play_icon_1 {width:6.779661016949152%;height:11.11111111111111%;left:61.01694915254237%;top:86.11111111111111%; position: absolute;} .sm_item_click_area_1 {width:27.11864406779661%;height:86.11111111111111%;left:40.67796610169491%;top:11.11111111111111%; position: absolute;} .sm_item_bg_2 {width:27.11864406779661%;height:86.11111111111111%;left:69.49152542372882%;top:11.11111111111111%; position: absolute;} .sm_item_thumbnail_2 {width:27.11864406779661%;height:44.44444444444444%;left:69.49152542372882%;top:11.11111111111111%; position: absolute;} .sm_item_title_and_description_2 {width:23.728813559322035%;height:19.444444444444443%;left:71.1864406779661%;top:58.33333333333333%; position: absolute;} .sm_item_info_2 {width:16.94915254237288%;height:5.555555555555555%;left:71.1864406779661%;top:91.66666666666666%; position: absolute;} .sm_item_play_icon_2 {width:6.779661016949152%;height:11.11111111111111%;left:89.83050847457626%;top:86.11111111111111%; position: absolute;} .sm_item_click_area_2 {width:27.11864406779661%;height:86.11111111111111%;left:69.49152542372882%;top:11.11111111111111%; position: absolute;}  "},portrait:{aspectRatio:[32,42],aspectPercentage:32/42,views:{},styles:" .sm_selector_bg {width:100%;height:88.09523809523809%;left:0%;top:11.904761904761905%; position: absolute;} .sm_selector_title_bg {width:100%;height:5.5476190476190474%;left:0%;top:11.904761904761905%; position: absolute;} .sm_item_bg_0 {width:93.75%;height:23.80952380952381%;left:3.125%;top:21.428571428571427%; position: absolute;} .sm_item_thumbnail_0 {width:31.25%;height:23.80952380952381%;left:3.125%;top:21.428571428571427%; position: absolute;} .sm_item_title_and_description_0 {width:56.25%;height:14.285714285714285%;left:37.5%;top:21.428571428571427%; position: absolute;} .sm_item_info_0 {width:46.875%;height:4.761904761904762%;left:37.5%;top:40.476190476190474%; position: absolute;} .sm_item_play_icon_0 {width:12.5%;height:9.523809523809524%;left:84.375%;top:35.714285714285715%; position: absolute;} .sm_item_click_area_0 {width:93.75%;height:23.80952380952381%;left:3.125%;top:21.428571428571427%; position: absolute;} .sm_item_bg_1 {width:93.75%;height:23.80952380952381%;left:3.125%;top:47.61904761904762%; position: absolute;} .sm_item_thumbnail_1 {width:31.25%;height:23.80952380952381%;left:3.125%;top:47.61904761904762%; position: absolute;} .sm_item_title_and_description_1 {width:56.25%;height:14.285714285714285%;left:37.5%;top:47.61904761904762%; position: absolute;} .sm_item_info_1 {width:46.875%;height:4.761904761904762%;left:37.5%;top:66.66666666666667%; position: absolute;} .sm_item_play_icon_1 {width:12.5%;height:9.523809523809524%;left:84.375%;top:61.904761904761905%; position: absolute;} .sm_item_click_area_1 {width:93.75%;height:23.80952380952381%;left:3.125%;top:47.61904761904762%; position: absolute;} .sm_item_bg_2 {width:93.75%;height:23.80952380952381%;left:3.125%;top:73.80952380952381%; position: absolute;} .sm_item_thumbnail_2 {width:31.25%;height:23.80952380952381%;left:3.125%;top:73.80952380952381%; position: absolute;} .sm_item_title_and_description_2 {width:56.25%;height:14.285714285714285%;left:37.5%;top:73.80952380952381%; position: absolute;} .sm_item_info_2 {width:46.875%;height:4.761904761904762%;left:37.5%;top:92.85714285714286%; position: absolute;} .sm_item_play_icon_2 {width:12.5%;height:9.523809523809524%;left:84.375%;top:88.09523809523809%; position: absolute;} .sm_item_click_area_2 {width:93.75%;height:23.80952380952381%;left:3.125%;top:73.80952380952381%; position: absolute;}  "}},k={item:{fnName:"onItemClicked",ctx:b,params:{}}},l={heightPercentile:.8,sizeMultiplier:.66,elId:"sm_selector_title",parentId:"sm_selector_title_bg"},m={title:{heightPercentile:.5,sizeMultiplier:.4,elId:"sm_item_title",parentId:"sm_item_title_and_description"},description:{heightPercentile:.5,sizeMultiplier:.33,elId:"sm_item_description",parentId:"sm_item_title_and_description"},info:{heightPercentile:1,sizeMultiplier:.85,elId:"sm_item_info_text",parentId:"sm_item_info"}};return b.events={SELECTOR_ITEM_IMPRESSION:"selectorItemImpression",SELECTOR_ITEM_VIEWED:"selectorItemViewed",SELECTOR_ITEM_CLICKED:"selectorItemClicked"},a.prototype.init=function(){var a=(new Date).getTime(),i=[],n=0;this.callback=this.config.callback||function(){},this.config.protocol=this.config.protocol||SM.Protocolizer.getProtocol(),this.config.cdnRoot=SM.Protocolizer.protocolize(this.config.cdnRoot)||this.config.protocol+d,this.config.assetPath=SM.Protocolizer.protocolize(this.config.assetPath)||e,this.config.playIconUrl=this.config.playIconUrl||f,this.parseSelectorItems(),h.desktop+=j.desktop.styles,h.portrait+=j.portrait.styles,h.landscape+=j.landscape.styles,this.styleElManager=SM.GridStyleInitializer.createStyleElManager(this.config,this.id,j,h,this.generateViewGridStyle,this),this.parentEl=this.config.parentId?document.getElementById(this.config.parentId):document.getElementsByTagName("body")[0],this.parentEl.innerHTML=SM.Tmpl.generate("selector",this.config),this.moduleEl=document.getElementById("sm_selector"),SM.ClickHandlers.init("sm_click_area",this.parentEl,k,this.config.views,this),SM.LayoutUpdater.registerObject(this),SM.Utils.each(this.config.views,function(a,c){if("selector_title"===a.type){var d=SM.Utils.clone(l);d.id=this.id,i.push(d)}else"selector_item"===a.type&&(SM.Utils.each(m,function(a){var b=SM.Utils.clone(a);b.elId+=n,b.parentId+=n,b.id=this.id,i.push(b)},this),n++,this.callback.call(b,{type:b.events.SELECTOR_ITEM_IMPRESSION,crid:a.id}),this.callback.call(b,{type:b.events.SELECTOR_ITEM_VIEWED,crid:a.id}));a.style&&(g+=" "+a.style)},this),this.moduleStyle=SM.Dom.addStyleCss(g,this.id+c),SM.FontSizer.batchCreate(i),SM.FontSizer.update(this.id);var o=(new Date).getTime();SM.VeApp.log("selector built:\n"+o+"\n"+a+"\nms: "+(o-a))},a.prototype.onItemClicked=function(a){SM.VeApp.log("Selectr/onItemClicked, params = ",a),this.callback.call(b,{type:b.events.SELECTOR_ITEM_CLICKED,crid:a.value}),a.type=a.type||SM.InternalEvents.SWITCH_SCREEN,this.callback.call(b,a,this)},a.prototype.parseSelectorItems=function(){SM.Utils.each(this.config.views,function(a){"selector_item"===a.type&&(a.idx=this.selectorItemIndices.length,this.selectorItemIndices.push(String(a.id)))},this)},a.prototype.generateViewGridStyle=function(a,b,c,d,e,f,g){var h,k="",l=a.type.replace(/(_.)/g,function(a){return a[1].toUpperCase()});return a.thumbnail&&(a.thumbnail=SM.Macros.protocolizeStr(a.thumbnail)),h=j[f].views[l]?SM.Grid.generate(c,d,j[f].views[l]):{},h.size=f,h=SM.Utils.extend(h,a),h.cdnRoot=this.config.cdnRoot,this.config.assetPath&&(h.playIconUrl=SM.Macros.protocolizeStr(this.config.assetPath)+this.config.playIconUrl),k=SM.Utils.parseMarkup(i[l],h)},a.prototype.layout=function(){var a=function(a){return function(){SM.FontSizer.update(a.id)}}(this);this.styleElManager.resize(),window.setTimeout(a,200)},a.prototype.sendCommand=function(a,b){a===SM.ScreenManager.commands.DEACTIVATE_AD&&this.deactivateAd(b)},a.prototype.deactivateAd=function(a){SM.VeApp.log("SM.Selector["+this.id+"]/deactivateAd, params = ",a,", selectorItemIndices = ",this.selectorItemIndices);var b=this.selectorItemIndices.indexOf(a.activeScreen);if(b>-1){var c=document.getElementById("sm_item_click_area"+b),d=document.getElementById("sm_selector_item"+b);d.className+=" deactivated",c.parentNode.removeChild(c)}},a.prototype.destroy=function(){SM.LayoutUpdater.unregisterObject(this)},b.Controller=a,b.create=function(b,c){return new a(b,c)},b}(),function(){SM.Tmpl.registerTemplate("brandWrapper",{"#sm_brand_wrapper_~{id}~.sm_brand_wrapper.abs_pos":{"each(views)":{"template(~{current.type}~)":"current"}}}),SM.Tmpl.registerTemplate("player_iframe",{"#sm_player_~{id}~.sm_player_iframe_~{id}~.abs_pos.player_iframe":{"iframe#sm_player_iframe_~{id}~.sm_iframe":{attrs:{src:"~{url}~#"+window.location.href,scrolling:"no",frameBorder:"0",marginWidth:"0",marginHeight:"0",width:"100%",height:"100%",allowfullscreen:"true",webkitallowfullscreen:"true",mozallowfullscreen:"true"}}}}),SM.Tmpl.registerTemplate("external_iframe",{"iframe#sm_ext_iframe_~{id}~.sm_iframe.abs_pos.external_iframe":{attrs:{scrolling:"no",frameBorder:"0",marginWidth:"0",marginHeight:"0",width:"100%",height:"100%",allowfullscreen:"true",webkitallowfullscreen:"true",mozallowfullscreen:"true"}}}),SM.Tmpl.registerTemplate("full_branding",{"#sm_full_branding_~{id}~.sm_full_branding_~{idx}~.brand_img.abs_pos.full_branding":""}),SM.Tmpl.registerTemplate("header",{"#sm_header_~{id}~.sm_brand_header_~{idx}~.brand_img.abs_pos.header":""}),SM.Tmpl.registerTemplate("left_tower",{"#sm_left_tower_~{id}~.sm_brand_left_tower_~{idx}~.brand_img.abs_pos.left_tower":""}),SM.Tmpl.registerTemplate("right_tower",{"#sm_right_tower_~{id}~.sm_brand_right_tower_~{idx}~.brand_img.abs_pos.right_tower":""}),SM.Tmpl.registerTemplate("footer",{"#sm_footer_~{id}~.sm_brand_footer_~{idx}~.brand_img.abs_pos.footer":""}),SM.Tmpl.registerTemplate("social_button",{"#sm_~{socialType}~.social_button~{idx}~.social_button.~{socialType}~.abs_pos.social_button":{attrs:{"data-idx":"~{idx}~","data-click-type":"social",tabindex:"0"}}}),SM.Tmpl.registerTemplate("sm_click_area",{"#~{id}~.sm_click_area_~{id}~.sm_click_area.abs_pos":{attrs:{title:"~{alt}~","data-idx":"~{idx}~","data-status":"~{id}~","data-click-type":"clickArea",tabindex:"0",role:"button"}}})}(),SM.BrandWrapper=SM.BrandWrapper||function(){"use strict";function a(a,b){SM.VeApp.log("SM.BrandWrapper/constructor, id = "+b+", config = ",a),this.params=a.params||{crid:b},this.config=a,this.id=this.config.id=b,this.callback=this.config.callback||function(){},this.config.protocol=this.config.protocol||SM.Protocolizer.getProtocol(),this.config.cdnRoot=SM.Protocolizer.protocolize(this.config.cdnRoot)||this.config.protocol+g,this.config.assetPath=SM.Protocolizer.protocolize(this.config.assetPath)||h,this.isIos=SM.DeviceUtils.isIphone()||SM.DeviceUtils.isIpad()}function b(a,b){var c,d=SM.VeApp?SM.VeApp.isMraid:!1;return d||SM.BrowserNavigator.isIframeNavigationEnabled?(c="&win_nav=0&iframe_nav=0",d&&(c+="&mraid=1")):c="&win_nav=1",SM.VeApp.log("navParams = ",c),SM.Utils.each(a,function(a){"player_iframe"===a.type&&(a.url+=c)},e),a}function c(a){var b=!1;return SM.Utils.each(a.views,function(a){"full_branding"===a.type&&(b=!0)},e),b}var d,e={},f="SmBrandWrapper",g="//cdn.selectablemedia.com/",h="",i="smallPlayer",j=500,k=900,l=".sm_brand_wrapper{width:100%;height:100%;overflow:hidden;}.abs_pos{position:absolute;} .brand_img{background-size:100% 100%;background-repeat:no-repeat;background-position:center;} .sm_click_area{cursor:pointer;} .selector_title{display:none;}",m={desktop:".sm_bw_text_xl{font-size:2.25em;} .sm_bw_text_lg{font-size:1.5em;} .sm_bw_text_md{font-size:1;} .sm_bw_text_sm{font-size:1em;} .social_button{display:block;}",portrait:".sm_bw_text_xl{font-size:1.15em;} .sm_bw_text_lg{font-size:1.1em;} .sm_bw_text_md{font-size:.75em;} .sm_bw_text_sm{font-size:0.66em;} .social_button{display:none;}",landscape:".sm_bw_text_xl{font-size:1.15em;} .sm_bw_text_lg{font-size:0.85em;} .sm_bw_text_md{font-size:0.66em;} .sm_bw_text_sm{font-size:0.5em;} .social_button{display:none;}"
},n={header:"#sm_header_~{id}~ {width:~{width}~%;height:~{height}~%;left:~{left}~%;top:~{top}~%;background-image:url(~{assetPath}~~{category}~/~{url}~);filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src='~{assetPath}~~{category}~/~{url}~',sizingMethod='scale');}",leftTower:"#sm_left_tower_~{id}~ {width:~{width}~%;height:~{height}~%;left:~{left}~%;top:~{top}~%;background-image:url(~{assetPath}~~{category}~/~{url}~);filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src='~{assetPath}~~{category}~/~{url}~',sizingMethod='scale');}",rightTower:"#sm_right_tower_~{id}~ {width:~{width}~%;height:~{height}~%;left:~{left}~%;top:~{top}~%;background-image:url(~{assetPath}~~{category}~/~{url}~);filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src='~{assetPath}~~{category}~/~{url}~',sizingMethod='scale');}",footer:"#sm_footer_~{id}~ {width:~{width}~%;height:~{height}~%;left:~{left}~%;top:~{top}~%;background-image:url(~{assetPath}~~{category}~/~{url}~);filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src='~{assetPath}~~{category}~/~{url}~',sizingMethod='scale');}",fullBranding:"#sm_full_branding_~{id}~ {width:~{width}~%;height:~{height}~%;left:~{left}~%;top:~{top}~%;background-image:url(~{assetPath}~~{category}~/~{url}~);filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src='~{assetPath}~~{category}~/~{url}~',sizingMethod='scale');}",playerIframe:".sm_player_iframe_~{id}~ {width:~{width}~%;height:~{height}~%;left:~{left}~%;top:~{top}~%;}",externalIframe:"#sm_ext_iframe_~{id}~ {width:~{width}~%;height:~{height}~%;left:~{left}~%;top:~{top}~%;}",smClickArea:".sm_click_area_~{id}~ {width:~{width}~%;height:~{height}~%;left:~{left}~%;top:~{top}~%}",socialButton:".social_button~{idx}~ {width:~{width}~%;height:~{height}~%;left:~{left}~%;top:~{top}~%;}"},o={},p={largePlayer:{aspectRatio:[56,34],aspectPercentage:56/34,styles:" .header {width:71.42857142857143%;height:22.058823529411768%;left:14.285714285714286%;top:11.764705882352942%; position: absolute;} .left_tower {width:14.285714285714286%;height:88.23529411764707%;left:0%;top:11.764705882352942%; position: absolute;} .right_tower {width:14.285714285714286%;height:88.23529411764707%;left:85.71428571428572%;top:11.764705882352942%; position: absolute;} .footer {width:0%;height:0%;left:0%;top:0%; position: absolute;} .full_branding {width:100%;height:88.23529411764707%;left:0%;top:11.764705882352942%; position: absolute;} .player_iframe {width:71.42857142857143%;height:66.1764705882353%;left:14.285714285714286%;top:33.82352941176471%; position: absolute;}  ",views:{}},smallPlayer:{aspectRatio:[56,34],aspectPercentage:56/34,styles:" .header {width:57.142857142857146%;height:17.647058823529413%;left:21.42857142857143%;top:11.764705882352942%; position: absolute;} .left_tower {width:21.42857142857143%;height:70.58823529411765%;left:0%;top:11.764705882352942%; position: absolute;} .right_tower {width:21.42857142857143%;height:70.58823529411765%;left:78.57142857142857%;top:11.764705882352942%; position: absolute;} .footer {width:100%;height:17.647058823529413%;left:0%;top:82.3529411764706%; position: absolute;} .full_branding {width:100%;height:88.23529411764707%;left:0%;top:11.764705882352942%; position: absolute;} .player_iframe {width:57.142857142857146%;height:52.94117647058824%;left:21.42857142857143%;top:29.411764705882355%; position: absolute;}  ",views:{}},fullPlayer:{aspectRatio:[56,34],aspectPercentage:56/34,styles:" .header {width:57.142857142857146%;height:17.647058823529413%;left:21.42857142857143%;top:11.764705882352942%; position: absolute;} .left_tower {width:21.42857142857143%;height:70.58823529411765%;left:0%;top:11.764705882352942%; position: absolute;} .right_tower {width:21.42857142857143%;height:70.58823529411765%;left:78.57142857142857%;top:11.764705882352942%; position: absolute;} .footer {width:100%;height:17.647058823529413%;left:0%;top:82.3529411764706%; position: absolute;} .full_branding {width:100%;height:88.23529411764707%;left:0%;top:11.764705882352942%; position: absolute;} .player_iframe {width:89.28571428571429%;height:82.3529411764706%;left:5.357142857142858%;top:11.764705882352942%; position: absolute;}  ",views:{}},fullLandscape:{aspectRatio:[59,36],aspectPercentage:59/36,styles:" .header {width:54.23728813559322%;height:16.666666666666664%;left:20.338983050847457%;top:11.11111111111111%; position: absolute;} .left_tower {width:20.338983050847457%;height:66.66666666666666%;left:0%;top:11.11111111111111%; position: absolute;} .right_tower {width:20.338983050847457%;height:66.66666666666666%;left:74.57627118644068%;top:11.11111111111111%; position: absolute;} .footer {width:94.91525423728814%;height:16.666666666666664%;left:0%;top:77.77777777777777%; position: absolute;} .full_branding {width:94.91525423728814%;height:83.33333333333333%;left:0%;top:11.11111111111111%; position: absolute;} .player_iframe {width:84.7457627118644%;height:77.77777777777777%;left:5.084745762711864%;top:11.11111111111111%; position: absolute;}  ",views:{}},landscape:{aspectRatio:[59,36],aspectPercentage:59/36,styles:" .header {width:81.35593220338983%;height:25%;left:18.64406779661017%;top:0%; position: absolute;} .left_tower {width:18.64406779661017%;height:100%;left:0%;top:0%; position: absolute;} .right_tower {width:0%;height:0%;left:0%;top:0%; position: absolute;} .footer {width:0%;height:0%;left:0%;top:0%; position: absolute;} .full_branding {width:100%;height:100%;left:0%;top:0%; position: absolute;} .player_iframe {width:81.35593220338983%;height:75%;left:18.64406779661017%;top:25%; position: absolute;}  ",views:{}},portrait:{aspectRatio:[32,42],aspectPercentage:32/42,styles:" .header {width:100%;height:14.285714285714285%;left:0%;top:0%; position: absolute;} .left_tower {width:0%;height:0%;left:0%;top:0%; position: absolute;} .right_tower {width:0%;height:0%;left:0%;top:0%; position: absolute;} .footer {width:100%;height:42.857142857142854%;left:0%;top:57.14285714285714%; position: absolute;} .full_branding {width:100%;height:100%;left:0%;top:0%; position: absolute;} .player_iframe {width:100%;height:42.857142857142854%;left:0%;top:14.285714285714285%; position: absolute;}  ",views:{}}},q={smallPlayer:{desktop:p.smallPlayer,landscape:p.landscape,portrait:p.portrait},largePlayer:{desktop:p.largePlayer,landscape:p.landscape,portrait:p.portrait},fullPlayer:{desktop:p.fullPlayer,landscape:p.fullLandscape,portrait:p.portrait}},r={largePlayer:"dt",smallPlayer:"dt",landscape:"pl",portrait:"pp"},s={clickArea:{fnName:"onItemClicked",ctx:e,params:{}},social:{fnName:"onItemClicked",ctx:e,params:{}}};return a.prototype.init=function(){var a,e=(new Date).getTime();if(d=this.config.sizeTemplate||i,d=c(this.config)?d:"fullPlayer",o=q[d],m.desktop+=q[d].desktop.styles,m.portrait+=q[d].portrait.styles,m.landscape+=q[d].landscape.styles,this.isIos=SM.DeviceUtils.isIphone()||SM.DeviceUtils.isIpad(),this.config.views=b(this.config.views,this.isIos),this.styleElManager=SM.GridStyleInitializer.createStyleElManager(this.config,this.id,o,m,this.generateViewGridStyle,this),this.moduleStyle=SM.Dom.addStyleCss(l,this.id+f),this.parentEl=this.config.parentId?document.getElementById(this.config.parentId):document.getElementsByTagName("body")[0],this.parentEl.innerHTML=SM.Tmpl.generate("brandWrapper",this.config),this.moduleEl=document.getElementById("sm_brand_wrapper_"+this.id),this.initViews(),this.initEvents(),this.initRewarding(),SM.ClickHandlers.init("sm_click_area",this.parentEl,s,this.config.views,this),this.config.social){var g=this.config.social;g.id=g.id||this.id,g.template=g.template||"brandWrapper",g.size=g.size||d,g.parentId=g.parentId||this.parentEl.id,g.eventCenter=this.config.eventCenter,g.minWidth=this.config.minWidth||j,g.minHeight=this.config.minHeight||k,this.params&&SM.Utils.each(g.views,function(a){a.params=this.params},this),this.socialModule=SM.VeSocial.create(g),this.socialModule.init()}SM.LayoutUpdater.isInitialized||SM.LayoutUpdater.init(),SM.LayoutUpdater.registerObject(this),a=(new Date).getTime(),SM.VeApp.log("brand wrapper "+this.id+" built:\n"+a+"\n"+e+"\nms: "+(a-e))},a.prototype.initViews=function(){var a,b=this.config.views;SM.Utils.each(b,function(b,c){if("external_iframe"===b.type){if(a=document.getElementById("sm_ext_iframe_"+b.id)){var d=SM.Macros.protocolizeStr(b.url);a.setAttribute("src",d)}}else"player_iframe"===b.type&&this.initPlayerIframe(b.id)},this)},a.prototype.initPlayerIframe=function(a){SM.VeApp.log("SM.BrandWrapper["+this.id+"]/initPlayerIframe, config = ",this.config),this.iframeId="sm_player_iframe_"+a,this.playerIframeEl=document.getElementById(this.iframeId),this.playerIframeEl&&(this.playerWin=this.playerIframeEl.contentWindow,this.initXdm(this.playerIframeEl))},a.prototype.initXdm=function(a){this.iframeTgt=a.contentWindow||a.contentDocument,this.iframeSrc=a.getAttribute("src");var b=this.iframeSrc.replace(/([^:]+:\/\/[^\/]+).*/,"$1");SM.VeApp.log("SM.Branding/initXdm, iframeOrigin = "+b+"\nthis.iframeSrc = "+this.iframeSrc),SM.CrossDomain.addRecipient({callback:this.crossdomainCallback,context:this,origin:b})},a.prototype.initEvents=function(){this.config.eventCenter&&this.config.eventCenter.bind(SM.Events.OPEN_EXTERNAL_LINK,this.onPauseEvent.bind(this))},a.prototype.initRewarding=function(){this.config.rewarding&&this.config.rewarding.url&&(this.config.rewarding.eventCenter=this.config.eventCenter,SM.Rewarder.create(this.id,this.config.rewarding))},a.prototype.onPauseEvent=function(a){this.sendMessage({type:SM.Events.PAUSE_VIDEO})},a.prototype.crossdomainCallback=function(a){var b;try{b=JSON.parse(a.data)}catch(c){b={}}if(b.key===this.iframeSrc){if(b.type===SM.Events.OPEN_EXTERNAL_LINK&&SM.BrowserNavigator.isWindowNavigationEnabled)return;b.key&&delete b.key,b=SM.Utils.extend(b,this.params),this.config.eventCenter.trigger(b)}},a.prototype.onItemClicked=function(a){SM.VeApp.log("SM.BrandWrapper/onItemClicked, params = ",a,"	this = ",this),this.sendMessage({type:SM.Events.PAUSE_VIDEO}),a.crid=a.crid||this.id,a.type=a.hasOwnProperty("type")&&a.type!==SM.Events.OPEN_EXTERNAL_LINK?a.type:SM.Events.AD_CLICKED,this.callback.call(e,a,this)},a.prototype.generateViewGridStyle=function(a,b,c,e,f,g,h){var i,j="",k=a.type.replace(/(_.)/g,function(a){return a[1].toUpperCase()});if(SM.VeApp.log("brand wrapper gen view grid style, type = "+k+", view.type = "+a.type),"socialButton"!==k&&(a.idx=b),a.area)if("object"===SM.Utils.toType(a.area))i=SM.Grid.generate(c,e,a.area[g]);else{var l=a.area.replace(/(_.)/g,function(a){return a[1].toUpperCase()});f.views.hasOwnProperty(l)&&(i=SM.Grid.generate(c,e,f.views[l]))}else f.views[k]&&(i=SM.Grid.generate(c,e,f.views[k]));var m=a.style||n[k]||null;return i||(i={}),i.size=g,i.cdnRoot=this.config.cdnRoot,i.assetPath=this.config.assetPath,i.category="desktop"===g?r[d]:r[g],i=SM.Utils.extend(i,a),i.idx="socialButton"===k?parseInt(a.idx):b,m&&(j=SM.Utils.parseMarkup(m,i)),j},a.prototype.sendMessage=function(a){this.iframeSrc&&(SM.VeApp.log("BrandWrapper["+this.id+"]/sendMessage: "+a.type+", src = "+this.iframeSrc),SM.CrossDomain.sendObject(a,this.iframeSrc,this.iframeTgt))},a.prototype.pause=function(){this.iframeParent=this.playerIframeEl.parentNode,this.iframeParent.removeChild(this.playerIframeEl),this.styleElManager.removeCurrentStyleEl(),this.moduleStyle.parentNode.removeChild(this.moduleStyle)},a.prototype.resume=function(){SM.Dom.head.appendChild(this.moduleStyle),this.styleElManager.restoreCurrentStyleEl(),this.iframeParent.appendChild(this.playerIframeEl)},a.prototype.layout=function(){SM.VeApp.log("SM.BrandWrapper["+this.id+"]/layout"),this.isIos&&this.playerIframeEl&&this.playerIframeEl.setAttribute("width",0),this.styleElManager.resize(),this.isIos&&this.playerIframeEl&&setTimeout(function(a){return function(){a.playerIframeEl.setAttribute("width","100%")}}(this),50)},a.prototype.sendCommand=function(a,b){if(a===SM.ScreenManager.commands.COMPLETE_AD){var c={type:SM.Events.AD_COMPLETED};c=SM.Utils.extend(c,this.params),this.config.eventCenter.trigger(c)}},a.prototype.destroy=function(){SM.LayoutUpdater.unregisterObject(this)},e.Controller=a,e.create=function(b,c){return new a(b,c)},e}(),SM.ScreenManager=SM.ScreenManager||function(){"use strict";function a(a,b){SM.VeApp.log("SM.ScreenManager.Controller/constructor, idx = "+b),this.rootEl=a.config.rootEl,this.idx=b||0,this.id=a.id,this.initialized=!1,this.viewed=!1,this.el=a.el,this.showBack=a.showBack||(this.idx>0?!0:!1),SM.VeApp.log("ScreenManager/Controller["+this.id+"].idx = "+this.idx+", showBack = "+this.showBack),SM.Utils.extend(this,a),this.screen=new SM[k[this.type]].create(this.config,this.id),SM.VeApp.log("	this now = ",this),c.call(this,{type:SM.Screen.events.SCREEN_IMPRESSION,status:this.id}),this.hide()}function b(a){a?c.call(i,{type:SM.Events.USER_CLOSED}):c.call(i,{type:SM.Events.BEHAVIOR_CLOSED})}function c(a){this.type===j.BRAND_WRAPPER&&(a.crid=a.status),h.trigger(a)}var d,e,f,g,h,i={},j={SELECTOR:"Selector",BRAND_WRAPPER:"BrandWrapper",LOBBY:"PubLobby",LOGIN_SUBSCRIBE:"LoginSubscribe",NOTIFICATION:"Notification",SCREEN:"Screen",REWARDER:"Rewarder"},k={Selector:"Selector",BrandWrapper:"BrandWrapper",Notification:"Notification",Screen:"Screen",PubLobby:"Screen",LoginSubscribe:"Screen",PubFoyer:"Screen"},l={Lobby:"sm_lobby.js",Selector:"sm_selector.js",BrandWrapper:"sm_brand_wrapper.js",Player:"sm_player"},m={DEACTIVATE_AD:"deactivateAd",COMPLETE_AD:"completeAd"},n=0,o=0;return i.commands=m,a.prototype.init=function(){this.show(),this.screen.init(this.screenConfig),this.initialized=!0},a.prototype.show=function(){SM.VeApp.log("SM.ScreenManager["+this.id+"]/show"),this.el.style.display="block",this.initialized&&this.screen.layout instanceof Function&&(this.screen.layout(),this.resume()),this.viewed||(c.call(this,{type:SM.Screen.events.SCREEN_VIEWED,status:this.id}),this.viewed=!0)},a.prototype.hide=function(){SM.VeApp.log("SM.ScreenManager["+this.id+"]/hide"),this.el.style.display="none"},a.prototype.pause=function(){this.screen.pause instanceof Function&&(SM.VeApp.log("SM.ScreenManager["+this.id+"]/pause calling: ",this.screen.pause),this.screen.pause.call(this.screen))},a.prototype.resume=function(){this.screen.resume instanceof Function&&this.screen.resume.call(this.screen)},a.prototype.switchOn=function(){this.show(),this.resume()},a.prototype.switchOff=function(){this.hide(),this.pause()},a.prototype.sendCommand=function(a,b){this.screen.sendCommand instanceof Function&&this.screen.sendCommand(a,b)},a.prototype.remove=function(){this.off(),this.screen.destroy instanceof Function&&this.screen.destroy(),this.el.parentNode.removeChild(this.el)},i.init=function(a){h=a,h.bind(SM.InternalEvents.SWITCH_SCREEN,i.onSwitchScreen,i),h.bind(SM.InternalEvents.CLOSE_SCREEN,i.onCloseScreen,i),h.bind(SM.InternalEvents.FINISH_CLICKED,i.onFinishClicked,i),h.bind(SM.Events.AD_COMPLETED,i.onAdCompleted,i),h.bind(SM.Events.NOTIFICATION_COMPLETED,i.onNotificationCompleted,i),i.controllers={}},i.add=function(b){SM.VeApp.log("screen manager add, params = ",b);var c=new a(b,SM.Utils.objLength(i.controllers));return i.controllers[c.id]=c,c},i.create=function(a,b,c){SM.VeApp.log("ScreenManager/create, autoInit = "+a.autoInit),SM.Utils.each(a.screens,function(b,c){if(SM.VeApp.log("	idx = "+c),b.idx=c,b.src=b.src||a.cdnRoot+l[a.type],b.config.callback=b.config.callback||a.callback,b.config.rootEl=a.rootEl,!b.parentId){var k=document.createElement("div"),m=b.id+"_holder";k.setAttribute("id",m),k.className="sm_screen",a.parentEl.appendChild(k),b.config.parentId=m,b.el=k}switch(b.showBack=!1,b.type){case j.LOBBY:e=b.id;break;case j.LOGIN_SUBSCRIBE:e&&(b.showBack=!0);break;case j.SELECTOR:d=b.id,e&&(b.showBack=!0);break;case j.BRAND_WRAPPER:(d||e)&&(b.showBack=!0),g||(g=b.id),n++;break;case j.NOTIFICATION:f=b.id}b.config.eventCenter=h;var o=i.add(b);a.autoInit===c&&(SM.VeApp.log("		initializing conroller: "+o.id),o.init(),i.activeScreen=o.id,i.currentType=b.type)},i),b&&b.call(c)},i.onSwitchScreen=function(a){SM.VeApp.log("SM.ScreenManager/onSwitchScreen, event = ",a);var b=a.data,c=b.value;i.switchScreen(c)},i.switchScreen=function(a){if(SM.VeApp.log("ScreenManager/switchScreen, screenId = "+a),"selector"===a&&(d?a=d:g&&(a=g)),i.controllers.hasOwnProperty(a)){var b=i.controllers[a];i.activeScreen&&(i.controllers[i.activeScreen].switchOff(),i.previousScreen=i.activeScreen),i.activeScreen=a,i.currentType=b.type,b.initialized?b.switchOn():b.init(),b.showBack?c.call(i,{type:SM.InternalEvents.SHOW_BACK_BUTTON}):c.call(i,{type:SM.InternalEvents.HIDE_BACK_BUTTON})}},i.sendCommand=function(a,b,c){i.controllers.hasOwnProperty(a)&&i.controllers[a].sendCommand(b,c)},i.onCloseScreen=function(a){switch(SM.VeApp.log("SM.ScreenManager/onCloseScreen, currentType = "+i.currentType+", event = ",a),i.currentType){case j.LOGIN_SUBSCRIBE:e&&i.switchScreen(e);break;case j.SELECTOR:e&&i.switchScreen(e);break;default:d?i.switchScreen(d):e&&i.switchScreen(e)}},i.onFinishClicked=function(a){i.wasFinishClicked=!0,i.sendCommand(i.activeScreen,m.COMPLETE_AD)},i.onAdCompleted=function(a){o++,i.crid=String(a.crid),f?i.switchScreen(f):i.closeBrandWrapper(a)},i.onNotificationCompleted=function(a){i.closeBrandWrapper(a)},i.closeBrandWrapper=function(a){d&&(a.activeScreen=i.crid,i.sendCommand(d,m.DEACTIVATE_AD,a),i.crid=""),SM.VeApp.isAutoClose?b(i.wasFinishClicked):o>=n?b(i.wasFinishClicked):c.call(i,{type:SM.InternalEvents.CLOSE_SCREEN}),i.wasFinishClicked=!1},i.remove=function(a){i.controllers.hasOwnProperty(a)&&(i.controllers[a].remove(),delete i.controllers[a])},i.types=j,i}(),function(){SM.Tmpl.registerTemplate("sm_app",{"#sm_app.abs_pos":{"if(lightbox)":{"#sm_lightbox.sm_lightbox.abs_pos":""},"#sm_wrapper_holder.abs_pos":{"#sm_wrapper.abs_pos":{"each(views)":{"template(~{current.type}~)":"current"}}}}}),SM.Tmpl.registerTemplate("pub_header",{"#sm_pub_header.sm_pub_header.pub_img.abs_pos.pub_header":{attrs:{alt:"Header"}}}),SM.Tmpl.registerTemplate("screen_holder",{"#sm_screen_holder.sm_screen_holder.abs_pos.screen_holder":""}),SM.Tmpl.registerTemplate("control_bar",{"#sm_control_bar.sm_control_bar.abs_pos.control_bar":""}),SM.Tmpl.registerTemplate("back_button",{"#sm_back_btn.control_button1.sm_click_area.sm_button.abs_pos.back_button":{attrs:{tabindex:"0","data-click-type":"back",role:"button"}}}),SM.Tmpl.registerTemplate("finish_button",{"#sm_finish_btn.control_button2.sm_click_area.sm_button.abs_pos.finish_button":{attrs:{tabindex:"0","data-click-type":"finish",role:"button"}}}),SM.Tmpl.registerTemplate("feedback_button",{"#sm_feedback_btn.control_button3.sm_click_area.sm_button.abs_pos.feedback_button":{attrs:{tabindex:"0","data-click-type":"feedback",role:"button"}}}),SM.Tmpl.registerTemplate("close_button",{"#sm_close_btn.sm_close_btn.sm_click_area.sm_button.abs_pos.close_button":{attrs:{tabindex:"0",role:"button"}}})}(),SM.VeApp=SM.VeApp||function(){"use strict";function a(){"undefined"==typeof H?n():p(),P.touchmoveHandler=function(a){return function(a){a.preventDefault()}}(P),K.parentId||SM.Dom.addListener(document,"touchmove",P.touchmoveHandler),P.isInitialized=!0}function b(a){var b=a?document.getElementById(a):document.getElementsByTagName("body")[0],c=document.createElement("div");return c.setAttribute("id","sm"),b.appendChild(c),c}function c(a,b,c,d,e,f,g){var h,i="",j=a.type.replace(/(_.)/g,function(a){return a.slice(1).toUpperCase()});return h=aa[f].views[j]?SM.Grid.generate(c,d,aa[f].views[j]):{},h.size=ba[f],h.cdnRoot=P.cdnRoot,h.assetPath=P.assetPath,h.name=g.name,h=SM.Utils.extend(h,a),i=SM.Utils.parseMarkup(_[j],h)}function d(){SM.Utils.each(K.publisher.screens,function(a,b){"PubLobby"===a.type&&SM.Utils.each(a.config.views,function(a,c){a.id="sm_lobby_"+a.id,K.publisher.screens[b].config.views[c]=a})}),z.innerHTML=SM.Tmpl.generate("sm_app",K.publisher),A=document.getElementById("sm_wrapper_holder")||z.querySelector("#sm_wrapper_holder"),B=document.getElementById("sm_wrapper")||z.querySelector("#sm_wrapper"),C=document.getElementById("sm_back_btn")||z.querySelector("#sm_back_btn"),E=document.getElementById("sm_close_btn")||z.querySelector("#sm_close_btn"),D=document.getElementById("sm_finish_btn")||z.querySelector("#sm_finish_btn"),"htmldivelement"===SM.Utils.toType(E)&&SM.Dom.addListener(E,"click",function(a){return function(a){SM.VeApp.log("close clicked"),I.trigger({type:SM.Events.USER_CLOSED})}}(P))}function e(){I=SM.EventCenter.create(),f(P.events),f(SM.Screen.events),f(SM.Rewarder.events),f(SM.Selector.events),f(SM.Errors),f(SM.Events),f(SM.InternalEvents),SM.Dom.addListener(document,"keydown",function(a){switch(a.keyCode){case 13:case 32:document.activeElement.click()}})}function f(a){SM.Utils.each(a,function(a){I.bind(a,g,P)},P)}function g(a){SM.VeApp.log("-- SM.VeApp/_onEvent, event = "+JSON.stringify(a));var b,c=a.type,d=!1;switch(a.type===SM.Events.ADS_AVAILABLE_RESPONSE?(a.adsAvailable=a.available=a.status||!1,P.adsAvailable=a.adsAvailable):a.adsAvailable=!0,J&&(a.type===SM.Events.AD_COMPLETED&&(b=SM.Utils.clone(a),b.type=SM.Events.AUTH_EVENT,b.status=!0,b.c1=99,J.trigger(b)),b=SM.Utils.clone(a),J.trigger(b)),c){case SM.InternalEvents.SHOW_BACK_BUTTON:C.style.display="block";break;case SM.InternalEvents.HIDE_BACK_BUTTON:C.style.display="none";break;case SM.InternalEvents.CLOSE_SCREEN:y();break;case SM.Events.CAN_FINISH:x();break;case SM.Events.BEHAVIOR_CLOSED:case SM.Events.USER_CLOSED:d=!0}i(a),d&&(i({type:SM.Events.VANGUARD_CLOSED}),v(),K.behaviors.tagRedirect?i({type:SM.Events.TAG_REDIRECT,status:K.behaviors.tagRedirect}):w())}function h(a,b){var c=b||window,d=!1;SM.Utils.each(ea,function(b){b.fn===a&&(d=!0)},P),d||ea.push({fn:a,ctx:c})}function i(a){a.pid=a.pid||K.pid,SM.Utils.each(ea,function(b){var c=SM.Utils.clone(a);b.fn.call(b.ctx,c,P)},P)}function j(){var a={params:K.params},b=Object.keys(P.events).map(function(a){return P.events[a]});SM.Utils.each(SM.ScreenManager.types,function(a){var c=SM[a];c&&c.events&&(b=b.concat(Object.keys(c.events).map(function(a){return c.events[a]})))},P),a.url=K.apis.reporting,a.params.base.pt=a.params.base.pt||R,a.events=b,J=SM.ReportCenter.create(a)}function k(){K.apis.rewarding&&SM.Rewarder.init(K.apis.rewarding)}function l(){K.injections&&SM.Injector.create(K.id,K.injections)}function m(){var a=K.behaviors.hasOwnProperty("windowNavigation")?K.behaviors.windowNavigation:!0,b=K.behaviors.hasOwnProperty("iframeNavigation")?K.behaviors.iframeNavigation:!1;SM.BrowserNavigator.init({eventCenter:I,windowNavigation:a,iframeNavigation:b,parentEl:B})}function n(){var a,b;if(P.madePubCall=!0,K.apis.creatives||K.apis.videosFor){if(K.apis.creatives?(a=SM.Protocolizer.protocolize(K.apis.creatives),P.creativesApi="creatives"):(a=SM.Protocolizer.protocolize(K.apis.videosFor),P.creativesApi="videosFor"),-1===a.indexOf("?")&&(a+="?"),K.params.base){var c=K.params.base;SM.Utils.each(c,function(b,c){a+="&"+c+"="+b},P)}G="sm"+String(Math.floor(99999999*Math.random())),window[G]=function(a){o(a)},a+="&"+SM.Utils.objToQueryString(SM.DeviceUtils.getPlatformInfo()),a+="&sm_flsh="+(SM.DeviceUtils.hasFlash()?1:0),a+="&"+SM.Utils.objToQueryString(SM.Utils.queryStringToObj(document.location.href)),I.trigger({type:P.events.AD_REQUESTED}),b=function(){v(),w()},SM.JsLoader.jsonp(a,"videosApi",o,b,b,P)}}function o(a){I.trigger({type:SM.Events.ADS_AVAILABLE_RESPONSE,status:a.available}),a.available?(H=SM.Injector.parse(K.id,a,P.creativesApi),SM.VeApp.log("_videosApiResponse = ",H),a.reporting&&J.updateReporter(a.reporting),P.isMakingPubCall||p()):I.trigger({type:SM.Events.BEHAVIOR_CLOSED}),P.isMakingPubCall=!1}function p(){d(),P.updateAspectRatio(),SM.ClickHandlers.init("sm_click_area",z,da,K.publisher.views,P),y(),m(),q(),P.layout(),E&&E.focus()}function q(){if(!P.isBuilt){if(SM.ScreenManager.init(I),K.publisher.screens=K.publisher.screens||[],H.screens&&(K.publisher.screens=K.publisher.screens.concat(H.screens)),K.publisher.screens.length>0){var a={autoInit:K.publisher.firstScreen||0,cdnRoot:P.cdnRoot,rootEl:z||document,parentEl:document.getElementById("sm_screen_holder")||z.querySelector("#sm_screen_holder"),screens:K.publisher.screens,callback:function(a){return function(b){s(b,a)}}(P)};SM.VeApp.log("	calling SM.ScreenManager/create with: ",a),SM.ScreenManager.create(a,r,P)}SM.LayoutUpdater.registerObject(P),P.isBuilt=!0}}function r(){SM.VeApp.log("SM.VE/_onScreensAdded")}function s(a,b){switch(a.type){case SM.Events.AD_CLICKED:I.trigger({type:SM.Events.OPEN_EXTERNAL_LINK,data:a});break;case SM.Selector.events.SELECTOR_ITEM_IMPRESSION:case SM.Selector.events.SELECTOR_ITEM_VIEWED:case SM.Selector.events.SELECTOR_ITEM_CLICKED:I.trigger(a);break;default:I.trigger({type:a.type,data:a})}}function t(){function a(){var a=document.createElement("meta");a.id="sm_viewport_tag",a.name="viewport",a.content="width=device-width, initial-scale=1.0, maximum-scale=1.0",document.getElementsByTagName("head")[0].appendChild(a),V=!0}for(var b=document.getElementsByTagName("meta"),c=0,d=b.length;d>c;c++)"viewport"===b[c].getAttribute("name")&&(W=b[c]);if(W){var e=W.getAttribute("content").replace(/ /g,"");(e.indexOf("width=device-width")<0||e.indexOf("initial-scale=1.0")<0||e.indexOf("maximum-scale=1.0")<0)&&(W.parentElement.removeChild(W),a())}else a()}function u(){var a=document.getElementById("sm_viewport_tag");if(a.parentElement.removeChild(a),W){var b=W.cloneNode(!0);document.getElementsByTagName("head")[0].appendChild(b),W=!1}V=!1}function v(){SM.Dom.removeListener(document,"touchmove",P.touchmoveHandler);var a=document.getElementsByTagName("body")[0];a.style.height=P.previousBodyHeight+"px",a.style["overflow-y"]=P.previousBodyOverflowY,P.isInitialized=!1,P.isMakingPubCall=!1,P.isBuilt=!1}function w(){var a=document.getElementById("sm_app"),b=document.getElementById("sm");"htmldivelement"===SM.Utils.toType(a)&&a.parentNode.removeChild(a),"htmldivelement"===SM.Utils.toType(b)&&b.parentNode.removeChild(b),V&&u()}function x(){B.appendChild(D)}function y(){D.parentElement&&D.parentElement.removeChild(D)}var z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P={},Q="SmVeApp",R="v",S="//cdn.selectablemedia.com/",T="",U="http://cdn.selectablemedia.com/bt/c/html/feedback.html?",V=!1,W=!1,X="#sm {width:100%; height:100%; position:absolute; z-index:70000000;} #sm_app {width:100%;height:100%;left:0;top:0;position:~{smAppPosition}~;} #sm_lightbox {width:100%;height:100%;left:0;top:0;filter:alpha(opacity=9);-moz-opacity:0.9;-khtml-opacity:0.9;opacity:0.9;background:#000;position:absolute;z-index:6000000;} #sm_wrapper {background:#333 /*url(~{cdnRoot}~lib/c/img/loading06b.gif)*/ no-repeat center;z-index:6000001; overflow:hidden;} .sm_screen {width:100%;height:100%;left:0;top:0;position:absolute;} #sm_control_bar {background-color:#222;} #sm_close_btn {background:url(~{cdnRoot}~lib/v1/img/sprites/media_close_spritesheet02.png) no-repeat;background-size:200%;background-position:0 0;z-index:6100000;} #sm_close_btn:active,#sm_close_btn:hover {background-position:100% 0} #sm_close_btn:visited {background-position:0 0} .sm_button {cursor:pointer;} .pub_img {background-size:100% 100%;background-repeat:no-repeat;background-position:center;} .abs_pos {position:absolute;}  @-moz-document url-prefix() { :focus { outline: 1px solid #2864a3; } }",Y={desktop:"#sm_wrapper_holder ~{smWrapperHolderDesktopStyle}~ .text_xl{font-size:2.25em;} .text_lg{font-size:1.5em;} .text_md{font-size:1;} .text_sm{font-size:1em;} .control_button1{background-position: left center;} .control_button3{background-position:right center;} .sm_close_btn{transform:scale(0.75);}",landscape:"#sm_wrapper_holder {width:100%;height:100%;left:0;top:0;} .text_xl{font-size:1.15em;} .text_lg{font-size:0.8em;} .text_md{font-size:0.66em;} .text_sm{font-size:0.5em;} .sm_close_btn{transform:scale(1);} .control_button1{background-position: center top;} .control_button3{background-position:center bottom;}",portrait:"#sm_wrapper_holder {width:100%;height:100%;left:0;top:0;} .text_xl{font-size:1.15em;} .text_lg{font-size:1.1em;} .text_md{font-size:.75em;} .text_sm{font-size:0.66em;} .sm_close_btn{transform:scale(1);} .control_button1{background-position: left center;} .control_button3{background-position:right center;}"},Z="{width:100%;height:100%;}",$="{width:90%;height:90%;left:5%;top:5%;}",_={pubHeader:".sm_pub_header {background-image:url(~{assetPath}~~{size}~/~{url}~);filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src='~{assetPath}~~{size}~/~{url}~',sizingMethod='scale');}",closeButton:".sm_close_btn {}",screenHolder:".sm_screen_holder {width:~{width}~%; height:~{height}~%; left:~{left}~%; top:~{top}~%;}",controlBar:".sm_control_bar {}",backButton:"#sm_back_btn {background-image:url(~{cdnRoot}~bt/c/img/~{size}~/sm_back_btn.png);background-repeat:no-repeat;background-size:contain;filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src='~{cdnRoot}~bt/c/img/~{size}~/sm_back_btn.png',sizingMethod='scale'); display:none;}",finishButton:"#sm_finish_btn {background-image:url(~{cdnRoot}~bt/c/img/~{size}~/sm_finish_btn.png);background-repeat:no-repeat;background-size:contain;background-position:center center;filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src='~{cdnRoot}~bt/c/img/~{size}~/sm_finish_btn.png',sizingMethod='scale'); }",feedbackButton:"#sm_feedback_btn {background:url(~{cdnRoot}~bt/c/img/~{size}~/sm_feedback_btn.png);background-repeat:no-repeat;background-size:contain;filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src='~{cdnRoot}~bt/c/img/~{size}~/sm_feedback_btn.png',sizingMethod='scale');}"},aa={desktop:{aspectRatio:[56,36],aspectPercentage:56/36,views:{},styles:" .pub_header {width:100%;height:11.11111111111111%;left:0%;top:0%; position: absolute;} .close_button {width:7.142857142857143%;height:11.11111111111111%;left:92.85714285714286%;top:0%; position: absolute;} .screen_holder {width:100%;height:94.44444444444444%;left:0%;top:0%; position: absolute;} .control_bar {width:100%;height:5.555555555555555%;left:0%;top:94.44444444444444%; position: absolute;} .back_button {width:14.285714285714286%;height:5.555555555555555%;left:0%;top:94.44444444444444%; position: absolute;} .finish_button {width:14.285714285714286%;height:5.555555555555555%;left:42.85714285714286%;top:94.44444444444444%; position: absolute;} .feedback_button {width:14.285714285714286%;height:5.555555555555555%;left:85.71428571428572%;top:94.44444444444444%; position: absolute;}  "},landscape:{aspectRatio:[63,36],aspectPercentage:1.75,views:{},styles:" .pub_header {width:7.936507936507936%;height:100%;left:0%;top:0%; position: absolute;} .close_button {width:7.936507936507936%;height:13.88888888888889%;left:0%;top:0%; position: absolute;} .screen_holder {width:93.65079365079364%;height:100%;left:0%;top:0%; position: absolute;} .control_bar {width:6.349206349206349%;height:100%;left:93.65079365079364%;top:0%; position: absolute;} .back_button {width:6.349206349206349%;height:27.77777777777778%;left:93.65079365079364%;top:0%; position: absolute;} .finish_button {width:6.349206349206349%;height:27.77777777777778%;left:93.65079365079364%;top:38.888888888888886%; position: absolute;} .feedback_button {width:6.349206349206349%;height:22.22222222222222%;left:93.65079365079364%;top:77.77777777777777%; position: absolute;}  "},portrait:{aspectRatio:[32,45],aspectPercentage:32/45,views:{},styles:" .pub_header {width:100%;height:11.11111111111111%;left:0%;top:0%; position: absolute;} .close_button {width:12.5%;height:8.88888888888889%;left:87.5%;top:0%; position: absolute;} .screen_holder {width:100%;height:93.33333333333334%;left:0%;top:0%; position: absolute;} .control_bar {width:100%;height:6.666666666666667%;left:0%;top:93.33333333333334%; position: absolute;} .back_button {width:37.5%;height:6.666666666666667%;left:0%;top:93.33333333333334%; position: absolute;} .finish_button {width:37.5%;height:6.666666666666667%;left:31.25%;top:93.33333333333334%; position: absolute;} .feedback_button {width:37.5%;height:6.666666666666667%;left:62.5%;top:93.33333333333334%; position: absolute;}  "
}},ba={desktop:"dt",landscape:"pl",portrait:"pp"},ca=[{id:"sm_screen_holder",type:"screen_holder"},{id:"sm_control_bar",type:"control_bar"},{id:"sm_back_btn",type:"back_button"},{id:"sm_finish_btn",type:"finish_button"},{id:"sm_feedback_btn",type:"feedback_button"}],da={back:{fnName:"onBackClicked",ctx:P,params:{}},feedback:{fnName:"onFeedbackClicked",ctx:P,params:{}},close:{fnName:"onCloseClicked",ctx:P,params:{}},finish:{fnName:"onFinishClicked",ctx:P,params:{}}},ea=[];return P.events={AD_REQUESTED:"adRequested"},P.isInitialized=!1,P.isBuilt=!1,P.isMakingPubCall=!1,P.madePubCall=!1,P.init=function(d){if("undefined"!=typeof vpaidParams){var f=vpaidParams?vpaidParams.slot:null;O=!0}else O=!1;var g,h,i,m=(new Date).getTime();"1"===d.sm_logs&&(N=!0),L=SM.DeviceUtils.isAndroid(),M=SM.DeviceUtils.isIphone(),K=d,K.id=d.id||String((new Date).getTime()),K.pid=d.params.base.pid||K.id,K.publisher.views=K.publisher.views.concat(ca),P.isAutoStart=d.behaviors.isAutoStart||d.behaviors.isContentUnlock||!1,P.isAutoClose=d.behaviors.isAutoClose||d.behaviors.isClosedOnCompletd||!1,P.isClosable=d.behaviors.isClosable,P.isMraid=d.isMraid||!1,d.callback&&P.addCallback(d.callback,d.callbackContext),P.protocol=d.protocol||SM.Protocolizer.getProtocol(),P.cdnRoot=SM.Protocolizer.protocolize(d.cdnRoot)||P.protocol+S,P.assetPath=SM.Protocolizer.protocolize(d.publisher.assetPath)||T,SM.Utils.each(K.apis,function(a,b){K.apis[b]=SM.Protocolizer.protocolize(a)},P),d.parentId||f?(h="absolute",i=Z):(h="fixed",i=$),z=f||b(d.parentId),Y.desktop=SM.Utils.parseMarkup(Y.desktop,{smWrapperHolderDesktopStyle:i}),Y.desktop+=aa.desktop.styles,Y.portrait+=aa.portrait.styles,Y.landscape+=aa.landscape.styles,F=SM.GridStyleInitializer.createStyleElManager(d.publisher,Q,aa,Y,c,P),SM.Dom.addStyleCss(SM.Utils.parseMarkup(X,{cdnRoot:P.cdnRoot,protocol:P.protocol,smAppPosition:h}),Q),e(),j(),k(),l(),t(),P.isAutoStart&&a(),I.trigger({type:SM.Events.SM_READY}),g=(new Date).getTime(),SM.VeApp.log("sm ve built:\n"+g+"\n"+m+"\nms: "+(g-m))},P.addCallback=P.setCallback=function(a,b){h(a,b)},P.startPlayerSession=function(b){P.isInitialized||a(b)},P.startContentUnlockSession=function(b){P.isInitialized||a(b)},P.checkAdsAvailable=function(a){P.madePubCall?a.callback&&P.addCallback(a.callback):(P.isMakingPubCall=!0,n())},P.layout=function(){SM.VeApp.log("SM.VE/layout"),F.resize(),P.updateAspectRatio()},P.updateAspectRatio=function(){(L||M)&&(A.style.width=document.documentElement.clientWidth+"px",A.style.height=(M?window.innerHeight:document.documentElement.clientHeight)+"px",A.style.top=0,A.style.left=0),O&&(A.style.width=vpaidParams.attributes.width+"px",A.style.height=vpaidParams.attributes.height+"px",A.style.top=0,A.style.left=0),SM.Dom.aspectRatioLayout(B,aa[F.currentCategory].aspectPercentage,A,!0)},P.onBackClicked=function(){SM.VeApp.log("SM.VE/_onBackClicked"),I.trigger({type:SM.InternalEvents.CLOSE_SCREEN})},P.onFinishClicked=function(){I.trigger({type:SM.InternalEvents.FINISH_CLICKED}),O&&vpaidParams.vpaidObj.adfinished()},P.onFeedbackClicked=function(){var a,b,c=U,d=SM.Utils.objToQueryString(K.params.base);"BrandWrapper"===SM.ScreenManager.currentType&&(b=SM.ScreenManager.activeScreen,a=SM.Utils.objToQueryString(J.reporter.params.crid[b]||{}),d+="&"+a+"&crid="+b),c+=d,I.trigger({type:SM.Events.OPEN_EXTERNAL_LINK,data:{value:c}}),I.trigger({type:SM.InternalEvents.SEND_AD_REPORT,value:SM.InternalEvents.FEEDBACK_BUTTON_CLICKED})},P.onCloseClicked=function(){},P.onPubApiTimeout=function(){v(),w()},P.log=function(){N&&"undefined"!=typeof console&&"undefined"!=typeof console.log&&SM.Utils.each(arguments,function(a){console.log(a)})},P}();var SM_App=SM_App||SM.VeApp;
//# sourceMappingURL=sm_ve_app.min.js.map